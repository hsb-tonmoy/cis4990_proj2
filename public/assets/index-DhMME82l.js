var ci=Object.defineProperty;var ui=(t,e,n)=>e in t?ci(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dn=(t,e,n)=>(ui(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function me(){}const Io=t=>t;function ge(t,e){for(const n in e)t[n]=e[n];return t}function Do(t){return t()}function qr(){return Object.create(null)}function nt(t){t.forEach(Do)}function sn(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function di(t){return Object.keys(t).length===0}function fi(t,...e){if(t==null){for(const r of e)r(void 0);return me}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Bn(t,e,n){t.$$.on_destroy.push(fi(e,n))}function bt(t,e,n,r){if(t){const o=Bo(t,e,n,r);return t[0](o)}}function Bo(t,e,n,r){return t[1]&&r?ge(n.ctx.slice(),t[1](r(e))):n.ctx}function yt(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(e.dirty.length,o.length);for(let a=0;a<i;a+=1)s[a]=e.dirty[a]|o[a];return s}return e.dirty|o}return e.dirty}function vt(t,e,n,r,o,s){if(o){const i=Bo(e,n,r,s);t.p(i,o)}}function _t(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Se(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Oe(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function hi(t){const e={};for(const n in t)e[n]=!0;return e}function pi(t){return t&&sn(t.destroy)?t.destroy:me}function Gn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Wo=typeof window<"u";let mi=Wo?()=>window.performance.now():()=>Date.now(),ar=Wo?t=>requestAnimationFrame(t):me;const pt=new Set;function Uo(t){pt.forEach(e=>{e.c(t)||(pt.delete(e),e.f())}),pt.size!==0&&ar(Uo)}function gi(t){let e;return pt.size===0&&ar(Uo),{promise:new Promise(n=>{pt.add(e={c:t,f:n})}),abort(){pt.delete(e)}}}function x(t,e){t.appendChild(e)}function Vo(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function bi(t){const e=W("style");return e.textContent="/* empty */",yi(Vo(t),e),e.sheet}function yi(t,e){return x(t.head||t,e),e.sheet}function G(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function W(t){return document.createElement(t)}function $r(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ce(t){return document.createTextNode(t)}function J(){return ce(" ")}function It(){return ce("")}function pe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function V(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const vi=["width","height"];function Ne(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&vi.indexOf(r)===-1?t[r]=e[r]:V(t,r,e[r])}function _i(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function wi(t){return Array.from(t.childNodes)}function an(t,e){e=""+e,t.data!==e&&(t.data=e)}function qn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Fo(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const Yt=new Map;let Zt=0;function Ci(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ei(t,e){const n={stylesheet:bi(e),rules:{}};return Yt.set(t,n),n}function Hr(t,e,n,r,o,s,i,a=0){const l=16.666/r;let c=`{
`;for(let m=0;m<=1;m+=l){const b=e+(n-e)*s(m);c+=m*100+`%{${i(b,1-b)}}
`}const u=c+`100% {${i(n,1-n)}}
}`,d=`__svelte_${Ci(u)}_${a}`,f=Vo(t),{stylesheet:g,rules:p}=Yt.get(f)||Ei(f,t);p[d]||(p[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${o}ms 1 both`,Zt+=1,d}function ki(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),Zt-=o,Zt||Ai())}function Ai(){ar(()=>{Zt||(Yt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)}),Yt.clear())})}let Nt;function Ot(t){Nt=t}function ln(){if(!Nt)throw new Error("Function called outside component initialization");return Nt}function Mi(t){ln().$$.on_mount.push(t)}function Ti(t){ln().$$.on_destroy.push(t)}function Si(){const t=ln();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=Fo(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,s)}),!s.defaultPrevented}return!0}}function jo(t){return ln().$$.context.get(t)}function we(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const ft=[],le=[];let mt=[];const $n=[],Oi=Promise.resolve();let Hn=!1;function Ni(){Hn||(Hn=!0,Oi.then(zo))}function Pt(t){mt.push(t)}function fe(t){$n.push(t)}const Wn=new Set;let ut=0;function zo(){if(ut!==0)return;const t=Nt;do{try{for(;ut<ft.length;){const e=ft[ut];ut++,Ot(e),Pi(e.$$)}}catch(e){throw ft.length=0,ut=0,e}for(Ot(null),ft.length=0,ut=0;le.length;)le.pop()();for(let e=0;e<mt.length;e+=1){const n=mt[e];Wn.has(n)||(Wn.add(n),n())}mt.length=0}while(ft.length);for(;$n.length;)$n.pop()();Hn=!1,Wn.clear(),Ot(t)}function Pi(t){if(t.fragment!==null){t.update(),nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pt)}}function Ri(t){const e=[],n=[];mt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),mt=e}let Mt;function xi(){return Mt||(Mt=Promise.resolve(),Mt.then(()=>{Mt=null})),Mt}function Un(t,e,n){t.dispatchEvent(Fo(`${e?"intro":"outro"}${n}`))}const Ht=new Set;let De;function lr(){De={r:0,c:[],p:De}}function cr(){De.r||nt(De.c),De=De.p}function Y(t,e){t&&t.i&&(Ht.delete(t),t.i(e))}function K(t,e,n,r){if(t&&t.o){if(Ht.has(t))return;Ht.add(t),De.c.push(()=>{Ht.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Li={duration:0};function Xr(t,e,n,r){let s=e(t,n,{direction:"both"}),i=r?0:1,a=null,l=null,c=null,u;function d(){c&&ki(t,c)}function f(p,h){const m=p.b-i;return h*=Math.abs(m),{a:i,b:p.b,d:m,duration:h,start:p.start,end:p.start+h,group:p.group}}function g(p){const{delay:h=0,duration:m=300,easing:b=Io,tick:v=me,css:w}=s||Li,A={start:mi()+h,b:p};p||(A.group=De,De.r+=1),"inert"in t&&(p?u!==void 0&&(t.inert=u):(u=t.inert,t.inert=!0)),a||l?l=A:(w&&(d(),c=Hr(t,i,p,m,h,b,w)),p&&v(0,1),a=f(A,m),Pt(()=>Un(t,p,"start")),gi(y=>{if(l&&y>l.start&&(a=f(l,m),l=null,Un(t,a.b,"start"),w&&(d(),c=Hr(t,i,a.b,a.duration,0,b,s.css))),a){if(y>=a.end)v(i=a.b,1-i),Un(t,a.b,"end"),l||(a.b?d():--a.group.r||nt(a.group.c)),a=null;else if(y>=a.start){const C=y-a.start;i=a.a+a.d*b(C/a.duration),v(i,1-i)}}return!!(a||l)}))}return{run(p){sn(s)?xi().then(()=>{s=s({direction:p?"in":"out"}),g(p)}):g(p)},end(){d(),a=l=null}}}function wt(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const i=t[s],a=e[s];if(a){for(const l in i)l in a||(r[l]=1);for(const l in a)o[l]||(n[l]=a[l],o[l]=1);t[s]=a}else for(const l in i)o[l]=1}for(const i in r)i in n||(n[i]=void 0);return n}function Ii(t){return typeof t=="object"&&t!==null?t:{}}function he(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ae(t){t&&t.c()}function se(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),Pt(()=>{const s=t.$$.on_mount.map(Do).filter(sn);t.$$.on_destroy?t.$$.on_destroy.push(...s):nt(s),t.$$.on_mount=[]}),o.forEach(Pt)}function ie(t,e){const n=t.$$;n.fragment!==null&&(Ri(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Di(t,e){t.$$.dirty[0]===-1&&(ft.push(t),Ni(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xe(t,e,n,r,o,s,i=null,a=[-1]){const l=Nt;Ot(t);const c=t.$$={fragment:null,ctx:[],props:s,update:me,not_equal:o,bound:qr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:qr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,f,...g)=>{const p=g.length?g[0]:f;return c.ctx&&o(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&Di(t,d)),f}):[],c.update(),u=!0,nt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=wi(e.target);c.fragment&&c.fragment.l(d),d.forEach(j)}else c.fragment&&c.fragment.c();e.intro&&Y(t.$$.fragment),se(t,e.target,e.anchor),zo()}Ot(l)}class Ye{constructor(){Dn(this,"$$");Dn(this,"$$set")}$destroy(){ie(this,1),this.$destroy=me}$on(e,n){if(!sn(n))return me;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!di(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Bi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bi);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ue(t,e,n,r){return new(n||(n=Promise))(function(o,s){function i(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?o(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(i,a)}l((r=r.apply(t,e||[])).next())})}class Dt{constructor(){this.listeners={}}on(e,n,r){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(n),r==null?void 0:r.once){const o=()=>{this.un(e,o),this.un(e,n)};return this.on(e,o),o}return()=>this.un(e,n)}un(e,n){var r;(r=this.listeners[e])===null||r===void 0||r.delete(n)}once(e,n){return this.on(e,n,{once:!0})}unAll(){this.listeners={}}emit(e,...n){this.listeners[e]&&this.listeners[e].forEach(r=>r(...n))}}const Yr={decode:function(t,e){return ue(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:e});return n.decodeAudioData(t).finally(()=>n.close())})},createBuffer:function(t,e){return typeof t[0]=="number"&&(t=[t]),function(n){const r=n[0];if(r.some(o=>o>1||o<-1)){const o=r.length;let s=0;for(let i=0;i<o;i++){const a=Math.abs(r[i]);a>s&&(s=a)}for(const i of n)for(let a=0;a<o;a++)i[a]/=s}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:n=>t==null?void 0:t[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Go(t,e){const n=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[r,o]of Object.entries(e))if(r==="children")for(const[s,i]of Object.entries(e))typeof i=="string"?n.appendChild(document.createTextNode(i)):n.appendChild(Go(s,i));else r==="style"?Object.assign(n.style,o):r==="textContent"?n.textContent=o:n.setAttribute(r,o.toString());return n}function Zr(t,e,n){const r=Go(t,e||{});return n==null||n.appendChild(r),r}var Wi=Object.freeze({__proto__:null,createElement:Zr,default:Zr});const Ui={fetchBlob:function(t,e,n){return ue(this,void 0,void 0,function*(){const r=yield fetch(t,n);if(r.status>=400)throw new Error(`Failed to fetch ${t}: ${r.status} (${r.statusText})`);return function(o,s){ue(this,void 0,void 0,function*(){if(!o.body||!o.headers)return;const i=o.body.getReader(),a=Number(o.headers.get("Content-Length"))||0;let l=0;const c=d=>ue(this,void 0,void 0,function*(){l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);s(f)}),u=()=>ue(this,void 0,void 0,function*(){let d;try{d=yield i.read()}catch{return}d.done||(c(d.value),yield u())});u()})}(r.clone(),e),r.blob()})}};class Vi extends Dt{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)},{once:!0})}onMediaEvent(e,n,r){return this.media.addEventListener(e,n,r),()=>this.media.removeEventListener(e,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,n){if(this.getSrc()===e)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):e;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return ue(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=e}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class cn extends Dt{constructor(e,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=e;const r=this.parentFromOptionsContainer(e.container);this.parent=r;const[o,s]=this.initHtml();r.appendChild(o),this.container=o,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(e){let n;if(typeof e=="string"?n=document.querySelector(e):e instanceof HTMLElement&&(n=e),!n)throw new Error("Container not found");return n}initEvents(){const e=r=>{const o=this.wrapper.getBoundingClientRect(),s=r.clientX-o.left,i=r.clientX-o.left;return[s/o.width,i/o.height]};this.wrapper.addEventListener("click",r=>{const[o,s]=e(r);this.emit("click",o,s)}),this.wrapper.addEventListener("dblclick",r=>{const[o,s]=e(r);this.emit("dblclick",o,s)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:o,clientWidth:s}=this.scrollContainer,i=r/o,a=(r+s)/o;this.emit("scroll",i,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){(function(e,n,r,o,s=3,i=0,a=100){if(!e)return()=>{};let l,c=!1,u=!1,d=0,f=0,g=0;const p=matchMedia("(pointer: coarse)").matches,h=y=>{y.button===i&&(y.stopPropagation(),c=!0,u=!1,g=Date.now(),l=e.getBoundingClientRect(),d=y.clientX-l.left,f=y.clientY-l.top)},m=y=>{if(c=!1,g=0,u){y.preventDefault(),y.stopPropagation(),setTimeout(()=>{u=!1},300);const C=y.clientX-l.left,_=y.clientY-l.top;o==null||o(C,_)}},b=y=>{if(!c||p&&Date.now()-g<a)return;y.preventDefault(),y.stopPropagation();const C=y.clientX-l.left,_=y.clientY-l.top,E=C-d,O=_-f;(u||Math.abs(E)>s||Math.abs(O)>s)&&(u||(r==null||r(d,f),u=!0),n(E,O,C,_),d=C,f=_)},v=y=>{y.relatedTarget&&y.relatedTarget!==document.documentElement||m(y)},w=y=>{u&&y.preventDefault()},A=y=>{u&&(y.stopPropagation(),y.preventDefault())};e.addEventListener("pointerdown",h),e.addEventListener("click",A,!0),document.addEventListener("click",A,!0),document.addEventListener("pointermove",b),document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("pointerup",m),document.addEventListener("pointerleave",v),document.addEventListener("pointercancel",m)})(this.wrapper,(e,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))})}getHeight(e){return e==null?128:isNaN(Number(e))?e==="auto"&&this.parent.clientHeight||128:Number(e)}initHtml(){const e=document.createElement("div"),n=e.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,n]}setOptions(e){if(this.options.container!==e.container){const n=this.parentFromOptionsContainer(e.container);n.appendChild(this.container),this.parent=n}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:n}=this.scrollContainer,r=n*e;this.setScroll(r)}destroy(){var e;this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect()}createDelay(e=10){let n,r;const o=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(o),()=>new Promise((s,i)=>{o(),r=i,n=setTimeout(()=>{n=void 0,r=void 0,s()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),o=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,o),i=1/(e.length-1);return e.forEach((a,l)=>{const c=l*i;s.addColorStop(c,a)}),s}renderBarWaveform(e,n,r,o){const s=e[0],i=e[1]||e[0],a=s.length,{width:l,height:c}=r.canvas,u=c/2,d=window.devicePixelRatio||1,f=n.barWidth?n.barWidth*d:1,g=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,h=l/(f+g)/a,m=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let b=0,v=0,w=0;for(let A=0;A<=a;A++){const y=Math.round(A*h);if(y>b){const E=Math.round(v*u*o),O=E+Math.round(w*u*o)||1;let L=u-E;n.barAlign==="top"?L=0:n.barAlign==="bottom"&&(L=c-O),r[m](b*(f+g),L,f,O,p),b=y,v=0,w=0}const C=Math.abs(s[A]||0),_=Math.abs(i[A]||0);C>v&&(v=C),_>w&&(w=_)}r.fill(),r.closePath()}renderLineWaveform(e,n,r,o){const s=i=>{const a=e[i]||e[0],l=a.length,{height:c}=r.canvas,u=c/2,d=r.canvas.width/l;r.moveTo(0,u);let f=0,g=0;for(let p=0;p<=l;p++){const h=Math.round(p*d);if(h>f){const b=u+(Math.round(g*u*o)||1)*(i===0?-1:1);r.lineTo(f,b),f=h,g=0}const m=Math.abs(a[p]||0);m>g&&(g=m)}r.lineTo(f,u)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(e,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(e,r);let o=n.barHeight||1;if(n.normalize){const s=Array.from(e[0]).reduce((i,a)=>Math.max(i,Math.abs(a)),0);o=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(e,n,r,o):this.renderLineWaveform(e,n,r,o)}renderSingleCanvas(e,n,r,o,s,i,a,l){const c=window.devicePixelRatio||1,u=document.createElement("canvas"),d=e[0].length;u.width=Math.round(r*(i-s)/d),u.height=o*c,u.style.width=`${Math.floor(u.width/c)}px`,u.style.height=`${o}px`,u.style.left=`${Math.floor(s*r/c/d)}px`,a.appendChild(u);const f=u.getContext("2d");if(this.renderWaveform(e.map(g=>g.slice(s,i)),n,f),u.width>0&&u.height>0){const g=u.cloneNode(),p=g.getContext("2d");p.drawImage(u,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,u.width,u.height),l.appendChild(g)}}renderChannel(e,n,r,o){var{overlay:s}=n,i=function(a,l){var c={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&l.indexOf(u)<0&&(c[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(u=Object.getOwnPropertySymbols(a);d<u.length;d++)l.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(a,u[d])&&(c[u[d]]=a[u[d]])}return c}(n,["overlay"]);return ue(this,void 0,void 0,function*(){const a=document.createElement("div"),l=this.getHeight(i.height);a.style.height=`${l}px`,s&&o>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const c=a.cloneNode();this.progressWrapper.appendChild(c);const u=e[0].length,d=(A,y)=>{this.renderSingleCanvas(e,i,r,l,Math.max(0,A),Math.min(y,u),a,c)};if(!this.isScrollable)return void d(0,u);const{scrollLeft:f,scrollWidth:g,clientWidth:p}=this.scrollContainer,h=u/g;let m=Math.min(cn.MAX_CANVAS_WIDTH,p);if(i.barWidth||i.barGap){const A=i.barWidth||.5,y=A+(i.barGap||A/2);m%y!=0&&(m=Math.floor(m/y)*y)}const b=Math.floor(Math.abs(f)*h),v=Math.floor(b+m*h),w=v-b;w<=0||(d(b,v),yield Promise.all([ue(this,void 0,void 0,function*(){if(b===0)return;const A=this.createDelay();for(let y=b;y>=0;y-=w)yield A(),d(Math.max(0,y-w),y)}),ue(this,void 0,void 0,function*(){if(v===u)return;const A=this.createDelay();for(let y=v;y<u;y+=w)yield A(),d(y,Math.min(u,y+w))})]))})}render(e){return ue(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,o=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=o>r;const s=this.options.fillParent&&!this.isScrollable,i=(s?r:o)*n;this.wrapper.style.width=s?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:e.numberOfChannels}).map((a,l)=>{var c;const u=Object.assign(Object.assign({},this.options),(c=this.options.splitChannels)===null||c===void 0?void 0:c[l]);return this.renderChannel([e.getChannelData(l)],u,i,l)}));else{const a=[e.getChannelData(0)];e.numberOfChannels>1&&a.push(e.getChannelData(1)),yield this.renderChannel(a,this.options,i,0)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let o=r-n;o*=2,o=o<0?Math.floor(o):Math.ceil(o),o/=2,this.scrollContainer.scrollLeft+=o}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,n=!1){const{scrollLeft:r,scrollWidth:o,clientWidth:s}=this.scrollContainer,i=e*o,a=r,l=r+s,c=s/2;if(this.isDragging)i+30>l?this.scrollContainer.scrollLeft+=30:i-30<a&&(this.scrollContainer.scrollLeft-=30);else{(i<a||i>l)&&(this.scrollContainer.scrollLeft=i-(this.options.autoCenter?c:0));const u=i-r-c;n&&this.options.autoCenter&&u>0&&(this.scrollContainer.scrollLeft+=Math.min(u,10))}{const u=this.scrollContainer.scrollLeft,d=u/o,f=(u+s)/o;this.emit("scroll",d,f)}}renderProgress(e,n){if(isNaN(e))return;const r=100*e;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,n)}exportImage(e,n,r){return ue(this,void 0,void 0,function*(){const o=this.canvasWrapper.querySelectorAll("canvas");if(!o.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(o).map(i=>i.toDataURL(e,n));return Promise.resolve(s)}return Promise.all(Array.from(o).map(s=>new Promise((i,a)=>{s.toBlob(l=>{l?i(l):a(new Error("Could not export image"))},e,n)})))})}}cn.MAX_CANVAS_WIDTH=4e3;class Fi extends Dt{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class Kr extends Dt{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ue(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===e&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ue(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){var n,r;const o=e-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+o),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(e){return ue(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const n=!this.paused;n&&this._pause(),this.playedDuration=e/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,n;return(e=this._duration)!==null&&e!==void 0?e:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)e.push(this.buffer.getChannelData(r));return e}}const ji={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Rt extends Vi{static create(e){return new Rt(e)}constructor(e){const n=e.media||(e.backend==="WebAudio"?new Kr:void 0);super({media:n,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.abortController=new AbortController,this.options=Object.assign({},ji,e),this.timer=new Fi;const r=n?void 0:this.getMediaElement();this.renderer=new cn(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const o=this.options.url||this.getSrc()||"";(o||this.options.peaks&&this.options.duration)&&this.load(o,this.options.peaks,this.options.duration).catch(()=>null)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",e=>{this.emit("error",e.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,n)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,n))}),this.renderer.on("dblclick",(e,n)=>{this.emit("dblclick",e,n)}),this.renderer.on("scroll",(e,n)=>{const r=this.getDuration();this.emit("scroll",e*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}));{let e;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(e),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),e=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(e){const n=e/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(e,n,r,o){var s;return ue(this,void 0,void 0,function*(){if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const a=c=>this.emit("loading",c),l=Object.assign({signal:(s=this.abortController)===null||s===void 0?void 0:s.signal},this.options.fetchParams||{});n=yield Ui.fetchBlob(e,a,l)}this.setSrc(e,n);const i=o||this.getDuration()||(yield new Promise(a=>{this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0})}));if(!e&&!n){const a=this.getMediaElement();a instanceof Kr&&(a.duration=i)}if(r)this.decodedData=Yr.createBuffer(r,i||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield Yr.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,n,r){return ue(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,n,r)}catch(o){throw this.emit("error",o),o}})}loadBlob(e,n,r){return ue(this,void 0,void 0,function*(){try{return yield this.loadAudio("blob",e,n,r)}catch(o){throw this.emit("error",o),o}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const o=Math.min(e,this.decodedData.numberOfChannels),s=[];for(let i=0;i<o;i++){const a=this.decodedData.getChannelData(i),l=[],c=Math.round(a.length/n);for(let u=0;u<n;u++){const d=a.slice(u*c,(u+1)*c);let f=0;for(let g=0;g<d.length;g++){const p=d[g];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const n=this.getDuration()*e;this.setTime(n)}playPause(){return ue(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(e="image/png",n=1,r="dataURL"){return ue(this,void 0,void 0,function*(){return this.renderer.exportImage(e,n,r)})}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Rt.BasePlugin=class extends Dt{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},Rt.dom=Wi;const dt=[];function Vn(t,e=me){let n;const r=new Set;function o(a){if(Ue(t,a)&&(t=a,n)){const l=!dt.length;for(const c of r)c[1](),dt.push(c,t);if(l){for(let c=0;c<dt.length;c+=2)dt[c][0](dt[c+1]);dt.length=0}}}function s(a){o(a(t))}function i(a,l=me){const c=[a,l];return r.add(c),r.size===1&&(n=e(o,s)||me),a(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}const ur="-";function zi(t){const e=qi(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function o(i){const a=i.split(ur);return a[0]===""&&a.length!==1&&a.shift(),qo(a,e)||Gi(i)}function s(i,a){const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function qo(t,e){var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?qo(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(ur);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId}const Jr=/^\[(.+)\]$/;function Gi(t){if(Jr.test(t)){const e=Jr.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function qi(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Hi(Object.entries(t.classGroups),n).forEach(([s,i])=>{Xn(i,r,s,e)}),r}function Xn(t,e,n,r){t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:Qr(e,o);s.classGroupId=n;return}if(typeof o=="function"){if($i(o)){Xn(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Xn(i,Qr(e,s),n,r)})})}function Qr(t,e){let n=t;return e.split(ur).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function $i(t){return t.isThemeGetter}function Hi(t,e){return e?t.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[e+i,a])):s);return[n,o]}):t}function Xi(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function o(s,i){n.set(s,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}}const $o="!";function Yi(t){const e=t.separator,n=e.length===1,r=e[0],o=e.length;return function(i){const a=[];let l=0,c=0,u;for(let h=0;h<i.length;h++){let m=i[h];if(l===0){if(m===r&&(n||i.slice(h,h+o)===e)){a.push(i.slice(c,h)),c=h+o;continue}if(m==="/"){u=h;continue}}m==="["?l++:m==="]"&&l--}const d=a.length===0?i:i.substring(c),f=d.startsWith($o),g=f?d.substring(1):d,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}}}function Zi(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function Ki(t){return{cache:Xi(t.cacheSize),splitModifiers:Yi(t),...zi(t)}}const Ji=/\s+/;function Qi(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,s=new Set;return t.trim().split(Ji).map(i=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(i);let d=r(u?c.substring(0,u):c),f=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:i};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:i};f=!1}const g=Zi(a).join(":");return{isTailwindClass:!0,modifierId:l?g+$o:g,classGroupId:d,originalClassName:i,hasPostfixModifier:f}}).reverse().filter(i=>{if(!i.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=i,u=a+l;return s.has(u)?!1:(s.add(u),o(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(i=>i.originalClassName).join(" ")}function ea(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ho(e))&&(r&&(r+=" "),r+=n);return r}function Ho(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ho(t[r]))&&(n&&(n+=" "),n+=e);return n}function ta(t,...e){let n,r,o,s=i;function i(l){const c=e.reduce((u,d)=>d(u),t());return n=Ki(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Qi(l,n);return o(l,u),u}return function(){return s(ea.apply(null,arguments))}}function ne(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Xo=/^\[(?:([a-z-]+):)?(.+)\]$/i,na=/^\d+\/\d+$/,ra=new Set(["px","full","screen"]),oa=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ia=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,la=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Le(t){return Ke(t)||ra.has(t)||na.test(t)}function ze(t){return Ct(t,"length",ga)}function Ke(t){return!!t&&!Number.isNaN(Number(t))}function zt(t){return Ct(t,"number",Ke)}function Tt(t){return!!t&&Number.isInteger(Number(t))}function ca(t){return t.endsWith("%")&&Ke(t.slice(0,-1))}function q(t){return Xo.test(t)}function Ge(t){return oa.test(t)}const ua=new Set(["length","size","percentage"]);function da(t){return Ct(t,ua,Yo)}function fa(t){return Ct(t,"position",Yo)}const ha=new Set(["image","url"]);function pa(t){return Ct(t,ha,ya)}function ma(t){return Ct(t,"",ba)}function St(){return!0}function Ct(t,e,n){const r=Xo.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function ga(t){return sa.test(t)&&!ia.test(t)}function Yo(){return!1}function ba(t){return aa.test(t)}function ya(t){return la.test(t)}function va(){const t=ne("colors"),e=ne("spacing"),n=ne("blur"),r=ne("brightness"),o=ne("borderColor"),s=ne("borderRadius"),i=ne("borderSpacing"),a=ne("borderWidth"),l=ne("contrast"),c=ne("grayscale"),u=ne("hueRotate"),d=ne("invert"),f=ne("gap"),g=ne("gradientColorStops"),p=ne("gradientColorStopPositions"),h=ne("inset"),m=ne("margin"),b=ne("opacity"),v=ne("padding"),w=ne("saturate"),A=ne("scale"),y=ne("sepia"),C=ne("skew"),_=ne("space"),E=ne("translate"),O=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",q,e],k=()=>[q,e],S=()=>["",Le,ze],M=()=>["auto",Ke,q],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],$=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",q],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ke,zt],Q=()=>[Ke,q];return{cacheSize:500,separator:":",theme:{colors:[St],spacing:[Le,ze],blur:["none","",Ge,q],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ge,q],borderSpacing:k(),borderWidth:S(),contrast:H(),grayscale:R(),hueRotate:Q(),invert:R(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[ca,ze],inset:N(),margin:N(),opacity:H(),padding:k(),saturate:H(),scale:H(),sepia:R(),skew:Q(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[Ge]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),q]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tt,q]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Tt,q]}],"grid-cols":[{"grid-cols":[St]}],"col-start-end":[{col:["auto",{span:["full",Tt,q]},q]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[St]}],"row-start-end":[{row:["auto",{span:[Tt,q]},q]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[Ge]},Ge]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ge,ze]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zt]}],"font-family":[{font:[St]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",Ke,zt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Le,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Le,ze]}],"underline-offset":[{"underline-offset":["auto",Le,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),fa]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",da]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pa]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:B()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Le,q]}],"outline-w":[{outline:[Le,ze]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Le,ze]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ge,ma]}],"shadow-color":[{shadow:[St]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ge,q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Tt,q]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Le,ze,zt]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Be=ta(va);function _a(t){return t*t*((1.70158+1)*t-1.70158)}function wa(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Zo(t){const e=t-1;return e*e*e+1}function Ca(t,{delay:e=0,duration:n=400,easing:r=wa,amount:o=5,opacity:s=0}={}){const i=getComputedStyle(t),a=+i.opacity,l=i.filter==="none"?"":i.filter,c=a*(1-s),[u,d]=Gn(o);return{delay:e,duration:n,easing:r,css:(f,g)=>`opacity: ${a-c*g}; filter: ${l} blur(${g*u}${d});`}}function Ea(t,{delay:e=0,duration:n=400,easing:r=Io}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*o}`}}function ka(t,{delay:e=0,duration:n=400,easing:r=Zo,x:o=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(t),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-i),[d,f]=Gn(o),[g,p]=Gn(s);return{delay:e,duration:n,easing:r,css:(h,m)=>`
			transform: ${c} translate(${(1-h)*d}${f}, ${(1-h)*g}${p});
			opacity: ${l-u*m}`}}function Aa(t,{delay:e=0,duration:n=400,easing:r=Zo,axis:o="y"}={}){const s=getComputedStyle(t),i=+s.opacity,a=o==="y"?"height":"width",l=parseFloat(s[a]),c=o==="y"?["top","bottom"]:["left","right"],u=c.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),d=parseFloat(s[`padding${u[0]}`]),f=parseFloat(s[`padding${u[1]}`]),g=parseFloat(s[`margin${u[0]}`]),p=parseFloat(s[`margin${u[1]}`]),h=parseFloat(s[`border${u[0]}Width`]),m=parseFloat(s[`border${u[1]}Width`]);return{delay:e,duration:n,easing:r,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*i};${a}: ${b*l}px;padding-${c[0]}: ${b*d}px;padding-${c[1]}: ${b*f}px;margin-${c[0]}: ${b*g}px;margin-${c[1]}: ${b*p}px;border-${c[0]}-width: ${b*h}px;border-${c[1]}-width: ${b*m}px;`}}const Ma=t=>({svgSize:t&4}),eo=t=>({svgSize:t[5][t[2]]}),Ta=t=>({svgSize:t&4}),to=t=>({svgSize:t[5][t[2]]});function Sa(t){let e,n,r,o,s,i,a=t[0]&&no(t);const l=t[9].default,c=bt(l,t,t[8],eo);let u=[{type:"button"},t[6],{class:t[4]},{"aria-label":r=t[1]??t[0]}],d={};for(let f=0;f<u.length;f+=1)d=ge(d,u[f]);return{c(){e=W("button"),a&&a.c(),n=J(),c&&c.c(),Ne(e,d)},m(f,g){G(f,e,g),a&&a.m(e,null),x(e,n),c&&c.m(e,null),e.autofocus&&e.focus(),o=!0,s||(i=pe(e,"click",t[10]),s=!0)},p(f,g){f[0]?a?a.p(f,g):(a=no(f),a.c(),a.m(e,n)):a&&(a.d(1),a=null),c&&c.p&&(!o||g&260)&&vt(c,l,f,f[8],o?yt(l,f[8],g,Ma):_t(f[8]),eo),Ne(e,d=wt(u,[{type:"button"},g&64&&f[6],(!o||g&16)&&{class:f[4]},(!o||g&3&&r!==(r=f[1]??f[0]))&&{"aria-label":r}]))},i(f){o||(Y(c,f),o=!0)},o(f){K(c,f),o=!1},d(f){f&&j(e),a&&a.d(),c&&c.d(f),s=!1,i()}}}function Oa(t){let e,n,r,o,s=t[0]&&ro(t);const i=t[9].default,a=bt(i,t,t[8],to);let l=[{href:t[3]},t[6],{class:t[4]},{"aria-label":r=t[1]??t[0]}],c={};for(let u=0;u<l.length;u+=1)c=ge(c,l[u]);return{c(){e=W("a"),s&&s.c(),n=J(),a&&a.c(),Ne(e,c)},m(u,d){G(u,e,d),s&&s.m(e,null),x(e,n),a&&a.m(e,null),o=!0},p(u,d){u[0]?s?s.p(u,d):(s=ro(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),a&&a.p&&(!o||d&260)&&vt(a,i,u,u[8],o?yt(i,u[8],d,Ta):_t(u[8]),to),Ne(e,c=wt(l,[(!o||d&8)&&{href:u[3]},d&64&&u[6],(!o||d&16)&&{class:u[4]},(!o||d&3&&r!==(r=u[1]??u[0]))&&{"aria-label":r}]))},i(u){o||(Y(a,u),o=!0)},o(u){K(a,u),o=!1},d(u){u&&j(e),s&&s.d(),a&&a.d(u)}}}function no(t){let e,n;return{c(){e=W("span"),n=ce(t[0]),V(e,"class","sr-only")},m(r,o){G(r,e,o),x(e,n)},p(r,o){o&1&&an(n,r[0])},d(r){r&&j(e)}}}function ro(t){let e,n;return{c(){e=W("span"),n=ce(t[0]),V(e,"class","sr-only")},m(r,o){G(r,e,o),x(e,n)},p(r,o){o&1&&an(n,r[0])},d(r){r&&j(e)}}}function Na(t){let e,n,r,o;const s=[Oa,Sa],i=[];function a(l,c){return l[3]?0:1}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),r=It()},m(l,c){i[e].m(l,c),G(l,r,c),o=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(lr(),K(i[u],1,1,()=>{i[u]=null}),cr(),n=i[e],n?n.p(l,c):(n=i[e]=s[e](l),n.c()),Y(n,1),n.m(r.parentNode,r))},i(l){o||(Y(n),o=!0)},o(l){K(n),o=!1},d(l){l&&j(r),i[e].d(l)}}}function Pa(t,e,n){const r=["color","name","ariaLabel","size","href"];let o=Oe(e,r),{$$slots:s={},$$scope:i}=e;const a=jo("background");let{color:l="default"}=e,{name:c=void 0}=e,{ariaLabel:u=void 0}=e,{size:d="md"}=e,{href:f=void 0}=e;const g={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400 hover:bg-gray-100"},p={xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"};let h;const m={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-5 h-5"};function b(v){we.call(this,t,v)}return t.$$set=v=>{n(14,e=ge(ge({},e),Se(v))),n(6,o=Oe(e,r)),"color"in v&&n(7,l=v.color),"name"in v&&n(0,c=v.name),"ariaLabel"in v&&n(1,u=v.ariaLabel),"size"in v&&n(2,d=v.size),"href"in v&&n(3,f=v.href),"$$scope"in v&&n(8,i=v.$$scope)},t.$$.update=()=>{n(4,h=Be("focus:outline-none whitespace-normal",p[d],g[l],l==="default"&&(a?"dark:hover:bg-gray-600":"dark:hover:bg-gray-700"),e.class))},e=Se(e),[c,u,d,f,h,m,o,l,i,s,b]}class Ra extends Ye{constructor(e){super(),Xe(this,e,Pa,Na,Ue,{color:7,name:0,ariaLabel:1,size:2,href:3})}}function xa(t){let e,n,r;return{c(){e=$r("svg"),n=$r("path"),V(n,"fill-rule","evenodd"),V(n,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),V(n,"clip-rule","evenodd"),V(e,"class",r=t[4]),V(e,"fill","currentColor"),V(e,"viewBox","0 0 20 20"),V(e,"xmlns","http://www.w3.org/2000/svg")},m(o,s){G(o,e,s),x(e,n)},p(o,s){s&16&&r!==(r=o[4])&&V(e,"class",r)},d(o){o&&j(e)}}}function La(t){let e,n;const r=[{name:t[0]},t[1],{class:Be("ms-auto",t[2].class)}];let o={$$slots:{default:[xa,({svgSize:s})=>({4:s}),({svgSize:s})=>s?16:0]},$$scope:{ctx:t}};for(let s=0;s<r.length;s+=1)o=ge(o,r[s]);return e=new Ra({props:o}),e.$on("click",t[3]),{c(){ae(e.$$.fragment)},m(s,i){se(e,s,i),n=!0},p(s,[i]){const a=i&7?wt(r,[i&1&&{name:s[0]},i&2&&Ii(s[1]),i&4&&{class:Be("ms-auto",s[2].class)}]):{};i&48&&(a.$$scope={dirty:i,ctx:s}),e.$set(a)},i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ie(e,s)}}}function Ia(t,e,n){const r=["name"];let o=Oe(e,r),{name:s="Close"}=e;function i(a){we.call(this,t,a)}return t.$$set=a=>{n(2,e=ge(ge({},e),Se(a))),n(1,o=Oe(e,r)),"name"in a&&n(0,s=a.name)},e=Se(e),[s,o,e,i]}class Da extends Ye{constructor(e){super(),Xe(this,e,Ia,La,Ue,{name:0})}}const Ba=(t,e)=>{const n=r=>{r!=null&&r.target&&t&&!t.contains(r.target)&&!r.defaultPrevented&&e()};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}},Wa=t=>({hidden:t&1}),oo=t=>({hidden:t[0]});function so(t){let e,n,r,o,s,i,a;function l(h,m){if(h[4]&&h[1])return Va;if(h[4]&&!h[1])return Ua}let c=l(t),u=c&&c(t);const d=t[25].default,f=bt(d,t,t[24],oo);let g=[{id:t[6]},t[15],{class:r=Be(t[7],t[3],t[2],t[10][t[5]],t[16].class)},{tabindex:"-1"},{"aria-controls":t[6]},{"aria-labelledby":t[6]}],p={};for(let h=0;h<g.length;h+=1)p=ge(p,g[h]);return{c(){u&&u.c(),e=J(),n=W("div"),f&&f.c(),Ne(n,p)},m(h,m){u&&u.m(h,m),G(h,e,m),G(h,n,m),f&&f.m(n,null),s=!0,i||(a=pi(t[14].call(null,n,t[12])),i=!0)},p(h,m){t=h,c===(c=l(t))&&u?u.p(t,m):(u&&u.d(1),u=c&&c(t),u&&(u.c(),u.m(e.parentNode,e))),f&&f.p&&(!s||m&16777217)&&vt(f,d,t,t[24],s?yt(d,t[24],m,Wa):_t(t[24]),oo),Ne(n,p=wt(g,[(!s||m&64)&&{id:t[6]},m&32768&&t[15],(!s||m&65708&&r!==(r=Be(t[7],t[3],t[2],t[10][t[5]],t[16].class)))&&{class:r},{tabindex:"-1"},(!s||m&64)&&{"aria-controls":t[6]},(!s||m&64)&&{"aria-labelledby":t[6]}]))},i(h){s||(Y(f,h),h&&Pt(()=>{s&&(o||(o=Xr(n,t[9],t[8],!0)),o.run(1))}),s=!0)},o(h){K(f,h),h&&(o||(o=Xr(n,t[9],t[8],!1)),o.run(0)),s=!1},d(h){h&&(j(e),j(n)),u&&u.d(h),f&&f.d(h),h&&o&&o.end(),i=!1,a()}}}function Ua(t){let e;return{c(){e=W("div"),V(e,"role","presentation"),V(e,"class",t[13])},m(n,r){G(n,e,r)},p:me,d(n){n&&j(e)}}}function Va(t){let e,n,r;return{c(){e=W("div"),V(e,"role","presentation"),V(e,"class",t[13])},m(o,s){G(o,e,s),n||(r=pe(e,"click",t[26]),n=!0)},p:me,d(o){o&&j(e),n=!1,r()}}}function Fa(t){let e,n,r=!t[0]&&so(t);return{c(){r&&r.c(),e=It()},m(o,s){r&&r.m(o,s),G(o,e,s),n=!0},p(o,[s]){o[0]?r&&(lr(),K(r,1,1,()=>{r=null}),cr()):r?(r.p(o,s),s&1&&Y(r,1)):(r=so(o),r.c(),Y(r,1),r.m(e.parentNode,e))},i(o){n||(Y(r),n=!0)},o(o){K(r),n=!1},d(o){o&&j(e),r&&r.d(o)}}}function ja(t,e,n){const r=["activateClickOutside","hidden","position","leftOffset","rightOffset","topOffset","bottomOffset","width","backdrop","bgColor","bgOpacity","placement","id","divClass","transitionParams","transitionType"];let o=Oe(e,r),{$$slots:s={},$$scope:i}=e,{activateClickOutside:a=!0}=e,{hidden:l=!0}=e,{position:c="fixed"}=e,{leftOffset:u="inset-y-0 start-0"}=e,{rightOffset:d="inset-y-0 end-0"}=e,{topOffset:f="inset-x-0 top-0"}=e,{bottomOffset:g="inset-x-0 bottom-0"}=e,{width:p="w-80"}=e,{backdrop:h=!0}=e,{bgColor:m="bg-gray-900"}=e,{bgOpacity:b="bg-opacity-75"}=e,{placement:v="left"}=e,{id:w="drawer-example"}=e,{divClass:A="overflow-y-auto z-50 p-4 bg-white dark:bg-gray-800"}=e,{transitionParams:y={}}=e,{transitionType:C="fly"}=e;function _(M,D){switch(C){case"slide":return Aa(M,D);case"blur":return Ca(M,D);case"fade":return Ea(M,D);default:return ka(M,D)}}const E={left:u,right:d,top:f,bottom:g},O=()=>{n(0,l=!l)},L=()=>a&&!l&&O();let N=Be("fixed top-0 start-0 z-50 w-full h-full",h&&m,h&&b);function k(M,D){return a?Ba(M,D):void 0}const S=()=>!l&&O();return t.$$set=M=>{n(16,e=ge(ge({},e),Se(M))),n(15,o=Oe(e,r)),"activateClickOutside"in M&&n(1,a=M.activateClickOutside),"hidden"in M&&n(0,l=M.hidden),"position"in M&&n(2,c=M.position),"leftOffset"in M&&n(17,u=M.leftOffset),"rightOffset"in M&&n(18,d=M.rightOffset),"topOffset"in M&&n(19,f=M.topOffset),"bottomOffset"in M&&n(20,g=M.bottomOffset),"width"in M&&n(3,p=M.width),"backdrop"in M&&n(4,h=M.backdrop),"bgColor"in M&&n(21,m=M.bgColor),"bgOpacity"in M&&n(22,b=M.bgOpacity),"placement"in M&&n(5,v=M.placement),"id"in M&&n(6,w=M.id),"divClass"in M&&n(7,A=M.divClass),"transitionParams"in M&&n(8,y=M.transitionParams),"transitionType"in M&&n(23,C=M.transitionType),"$$scope"in M&&n(24,i=M.$$scope)},e=Se(e),[l,a,c,p,h,v,w,A,y,_,E,O,L,N,k,o,e,u,d,f,g,m,b,C,i,s,S]}class za extends Ye{constructor(e){super(),Xe(this,e,ja,Fa,Ue,{activateClickOutside:1,hidden:0,position:2,leftOffset:17,rightOffset:18,topOffset:19,bottomOffset:20,width:3,backdrop:4,bgColor:21,bgOpacity:22,placement:5,id:6,divClass:7,transitionParams:8,transitionType:23})}}function Ga(t){let e;const n=t[7].default,r=bt(n,t,t[6],null);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&64)&&vt(r,n,o,o[6],e?yt(n,o[6],s,null):_t(o[6]),null)},i(o){e||(Y(r,o),e=!0)},o(o){K(r,o),e=!1},d(o){r&&r.d(o)}}}function qa(t){let e,n;const r=t[7].default,o=bt(r,t,t[6],null);let s=[t[3],{class:t[2]}],i={};for(let a=0;a<s.length;a+=1)i=ge(i,s[a]);return{c(){e=W("label"),o&&o.c(),Ne(e,i)},m(a,l){G(a,e,l),o&&o.m(e,null),t[8](e),n=!0},p(a,l){o&&o.p&&(!n||l&64)&&vt(o,r,a,a[6],n?yt(r,a[6],l,null):_t(a[6]),null),Ne(e,i=wt(s,[l&8&&a[3],(!n||l&4)&&{class:a[2]}]))},i(a){n||(Y(o,a),n=!0)},o(a){K(o,a),n=!1},d(a){a&&j(e),o&&o.d(a),t[8](null)}}}function $a(t){let e,n,r,o;const s=[qa,Ga],i=[];function a(l,c){return l[0]?0:1}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),r=It()},m(l,c){i[e].m(l,c),G(l,r,c),o=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(lr(),K(i[u],1,1,()=>{i[u]=null}),cr(),n=i[e],n?n.p(l,c):(n=i[e]=s[e](l),n.c()),Y(n,1),n.m(r.parentNode,r))},i(l){o||(Y(n),o=!0)},o(l){K(n),o=!1},d(l){l&&j(r),i[e].d(l)}}}function Ha(t,e,n){let r;const o=["color","defaultClass","show"];let s=Oe(e,o),{$$slots:i={},$$scope:a}=e,{color:l="gray"}=e,{defaultClass:c="text-sm rtl:text-right font-medium block"}=e,{show:u=!0}=e,d;const f={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500"};function g(p){le[p?"unshift":"push"](()=>{d=p,n(1,d)})}return t.$$set=p=>{n(10,e=ge(ge({},e),Se(p))),n(3,s=Oe(e,o)),"color"in p&&n(4,l=p.color),"defaultClass"in p&&n(5,c=p.defaultClass),"show"in p&&n(0,u=p.show),"$$scope"in p&&n(6,a=p.$$scope)},t.$$.update=()=>{if(t.$$.dirty&18){const p=d==null?void 0:d.control;n(4,l=p!=null&&p.disabled?"disabled":l)}n(2,r=Be(c,f[l],e.class))},e=Se(e),[u,d,r,s,l,c,a,i,g]}class Xa extends Ye{constructor(e){super(),Xe(this,e,Ha,$a,Ue,{color:4,defaultClass:5,show:0})}}function Ya(t){let e,n,r,o,s,i,a,l=[{type:"radio"},{__value:t[4]},t[9],{class:n=ao(t[2],t[1],!1,t[6],t[5],t[7].default||t[8].class)}],c={};for(let f=0;f<l.length;f+=1)c=ge(c,l[f]);const u=t[10].default,d=bt(u,t,t[24],null);return s=_i(t[23][0]),{c(){e=W("input"),r=J(),d&&d.c(),Ne(e,c),s.p(e)},m(f,g){G(f,e,g),e.autofocus&&e.focus(),e.checked=e.__value===t[0],G(f,r,g),d&&d.m(f,g),o=!0,i||(a=[pe(e,"change",t[22]),pe(e,"blur",t[11]),pe(e,"change",t[12]),pe(e,"click",t[13]),pe(e,"focus",t[14]),pe(e,"keydown",t[15]),pe(e,"keypress",t[16]),pe(e,"keyup",t[17]),pe(e,"mouseenter",t[18]),pe(e,"mouseleave",t[19]),pe(e,"mouseover",t[20]),pe(e,"paste",t[21])],i=!0)},p(f,g){Ne(e,c=wt(l,[{type:"radio"},(!o||g&16)&&{__value:f[4]},g&512&&f[9],(!o||g&422&&n!==(n=ao(f[2],f[1],!1,f[6],f[5],f[7].default||f[8].class)))&&{class:n}])),g&1&&(e.checked=e.__value===f[0]),d&&d.p&&(!o||g&16777216)&&vt(d,u,f,f[24],o?yt(u,f[24],g,null):_t(f[24]),null)},i(f){o||(Y(d,f),o=!0)},o(f){K(d,f),o=!1},d(f){f&&(j(e),j(r)),d&&d.d(f),s.r(),i=!1,nt(a)}}}function Za(t){let e,n;return e=new Xa({props:{class:io(t[3],t[8].class),show:t[7].default,$$slots:{default:[Ya]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,o){se(e,r,o),n=!0},p(r,[o]){const s={};o&264&&(s.class=io(r[3],r[8].class)),o&128&&(s.show=r[7].default),o&16778167&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){K(e.$$.fragment,r),n=!1},d(r){ie(e,r)}}}const Ka={primary:"text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600",secondary:"text-secondary-600 focus:ring-secondary-500 dark:focus:ring-secondary-600",red:"text-red-600 focus:ring-red-500 dark:focus:ring-red-600",green:"text-green-600 focus:ring-green-500 dark:focus:ring-green-600",purple:"text-purple-600 focus:ring-purple-500 dark:focus:ring-purple-600",teal:"text-teal-600 focus:ring-teal-500 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-500 dark:focus:ring-yellow-600",orange:"text-orange-500 focus:ring-orange-500 dark:focus:ring-orange-600",blue:"text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"},io=(t,e)=>Be(t?"inline-flex":"flex","items-center",e),ao=(t,e,n,r,o,s)=>Be("w-4 h-4 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2",o,r?"dark:bg-gray-600 dark:border-gray-500":"dark:bg-gray-700 dark:border-gray-600",t&&"sr-only peer",n&&"rounded",Ka[e],s);function Ja(t,e,n){const r=["color","custom","inline","group","value","spacing"];let o=Oe(e,r),{$$slots:s={},$$scope:i}=e;const a=hi(s);let{color:l="primary"}=e,{custom:c=!1}=e,{inline:u=!1}=e,{group:d=void 0}=e,{value:f=""}=e,{spacing:g=a.default?"me-2":""}=e,p=jo("background");const h=[[]];function m(k){we.call(this,t,k)}function b(k){we.call(this,t,k)}function v(k){we.call(this,t,k)}function w(k){we.call(this,t,k)}function A(k){we.call(this,t,k)}function y(k){we.call(this,t,k)}function C(k){we.call(this,t,k)}function _(k){we.call(this,t,k)}function E(k){we.call(this,t,k)}function O(k){we.call(this,t,k)}function L(k){we.call(this,t,k)}function N(){d=this.__value,n(0,d)}return t.$$set=k=>{n(8,e=ge(ge({},e),Se(k))),n(9,o=Oe(e,r)),"color"in k&&n(1,l=k.color),"custom"in k&&n(2,c=k.custom),"inline"in k&&n(3,u=k.inline),"group"in k&&n(0,d=k.group),"value"in k&&n(4,f=k.value),"spacing"in k&&n(5,g=k.spacing),"$$scope"in k&&n(24,i=k.$$scope)},e=Se(e),[d,l,c,u,f,g,p,a,e,o,s,m,b,v,w,A,y,C,_,E,O,L,N,h,i]}class _e extends Ye{constructor(e){super(),Xe(this,e,Ja,Za,Ue,{color:1,custom:2,inline:3,group:0,value:4,spacing:5})}}function Qa(t){let e;return{c(){e=ce("Male")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function el(t){let e;return{c(){e=ce("Female")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function tl(t){let e;return{c(){e=ce("Default")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function nl(t){let e;return{c(){e=ce("Science")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function rl(t){let e;return{c(){e=ce("Programming")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function ol(t){let e;return{c(){e=ce("Literature")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function sl(t){let e;return{c(){e=ce("History")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function il(t){let e;return{c(){e=ce("Music")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function al(t){let e;return{c(){e=ce("Sports")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function ll(t){let e;return{c(){e=ce("English")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function cl(t){let e;return{c(){e=ce("Spanish")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function ul(t){let e;return{c(){e=ce("French")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function dl(t){let e;return{c(){e=ce("German")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function fl(t){let e;return{c(){e=ce("Italian")},m(n,r){G(n,e,r)},d(n){n&&j(e)}}}function hl(t){let e,n,r,o,s,i,a,l,c,u,d,f,g,p,h,m,b,v,w,A,y,C,_,E,O,L,N,k,S,M,D,B,z,$,R,U,H,Q,ye,Me,Re,ee,oe,Ve,it,Ze,Ce,at,Ft,lt,P,I,re,Z,X,te,be,de,xe,ct,At,Te,bn,Or,yn,Fe,vn,Nr,_n,je,wn,jt;o=new Da({props:{class:"mb-4 dark:text-white"}}),o.$on("click",t[9]);function Ys(T){t[10](T)}let Pr={value:"male",class:"p-3",$$slots:{default:[Qa]},$$scope:{ctx:t}};t[3]!==void 0&&(Pr.group=t[3]),f=new _e({props:Pr}),le.push(()=>he(f,"group",Ys));function Zs(T){t[11](T)}let Rr={value:"female",class:"p-3",$$slots:{default:[el]},$$scope:{ctx:t}};t[3]!==void 0&&(Rr.group=t[3]),m=new _e({props:Rr}),le.push(()=>he(m,"group",Zs));function Ks(T){t[12](T)}let xr={class:"p-3",value:"default",$$slots:{default:[tl]},$$scope:{ctx:t}};t[2]!==void 0&&(xr.group=t[2]),_=new _e({props:xr}),le.push(()=>he(_,"group",Ks));function Js(T){t[13](T)}let Lr={class:"p-3",value:"science",$$slots:{default:[nl]},$$scope:{ctx:t}};t[2]!==void 0&&(Lr.group=t[2]),N=new _e({props:Lr}),le.push(()=>he(N,"group",Js));function Qs(T){t[14](T)}let Ir={class:"p-3",value:"programming",$$slots:{default:[rl]},$$scope:{ctx:t}};t[2]!==void 0&&(Ir.group=t[2]),D=new _e({props:Ir}),le.push(()=>he(D,"group",Qs));function ei(T){t[15](T)}let Dr={class:"p-3",value:"literature",$$slots:{default:[ol]},$$scope:{ctx:t}};t[2]!==void 0&&(Dr.group=t[2]),R=new _e({props:Dr}),le.push(()=>he(R,"group",ei));function ti(T){t[16](T)}let Br={class:"p-3",value:"history",$$slots:{default:[sl]},$$scope:{ctx:t}};t[2]!==void 0&&(Br.group=t[2]),ye=new _e({props:Br}),le.push(()=>he(ye,"group",ti));function ni(T){t[17](T)}let Wr={class:"p-3",value:"music",$$slots:{default:[il]},$$scope:{ctx:t}};t[2]!==void 0&&(Wr.group=t[2]),oe=new _e({props:Wr}),le.push(()=>he(oe,"group",ni));function ri(T){t[18](T)}let Ur={class:"p-3",value:"sports",$$slots:{default:[al]},$$scope:{ctx:t}};t[2]!==void 0&&(Ur.group=t[2]),Ce=new _e({props:Ur}),le.push(()=>he(Ce,"group",ri));function oi(T){t[19](T)}let Vr={class:"p-3",value:"en",$$slots:{default:[ll]},$$scope:{ctx:t}};t[1]!==void 0&&(Vr.group=t[1]),Z=new _e({props:Vr}),le.push(()=>he(Z,"group",oi));function si(T){t[20](T)}let Fr={class:"p-3",value:"es",$$slots:{default:[cl]},$$scope:{ctx:t}};t[1]!==void 0&&(Fr.group=t[1]),de=new _e({props:Fr}),le.push(()=>he(de,"group",si));function ii(T){t[21](T)}let jr={class:"p-3",value:"fr",$$slots:{default:[ul]},$$scope:{ctx:t}};t[1]!==void 0&&(jr.group=t[1]),Te=new _e({props:jr}),le.push(()=>he(Te,"group",ii));function ai(T){t[22](T)}let zr={class:"p-3",value:"de",$$slots:{default:[dl]},$$scope:{ctx:t}};t[1]!==void 0&&(zr.group=t[1]),Fe=new _e({props:zr}),le.push(()=>he(Fe,"group",ai));function li(T){t[23](T)}let Gr={class:"p-3",value:"it",$$slots:{default:[fl]},$$scope:{ctx:t}};return t[1]!==void 0&&(Gr.group=t[1]),je=new _e({props:Gr}),le.push(()=>he(je,"group",li)),{c(){e=W("div"),n=W("h6"),n.textContent="Supercharge Karen!",r=J(),ae(o.$$.fragment),s=J(),i=W("div"),a=W("form"),l=W("p"),l.textContent="Choose Voice",c=J(),u=W("ul"),d=W("li"),ae(f.$$.fragment),p=J(),h=W("li"),ae(m.$$.fragment),v=J(),w=W("p"),w.textContent="Choose Expertise",A=J(),y=W("ul"),C=W("li"),ae(_.$$.fragment),O=J(),L=W("li"),ae(N.$$.fragment),S=J(),M=W("li"),ae(D.$$.fragment),z=J(),$=W("li"),ae(R.$$.fragment),H=J(),Q=W("li"),ae(ye.$$.fragment),Re=J(),ee=W("li"),ae(oe.$$.fragment),it=J(),Ze=W("li"),ae(Ce.$$.fragment),Ft=J(),lt=W("p"),lt.textContent="Choose Language",P=J(),I=W("ul"),re=W("li"),ae(Z.$$.fragment),te=J(),be=W("li"),ae(de.$$.fragment),ct=J(),At=W("li"),ae(Te.$$.fragment),Or=J(),yn=W("li"),ae(Fe.$$.fragment),Nr=J(),_n=W("li"),ae(je.$$.fragment),V(n,"class","text-[#050A30] dark:text-[#f8f9fa] text-lg font-medium"),V(e,"class","flex items-center justify-between"),V(l,"class","mb-4 font-semibold text-gray-900 dark:text-white"),V(d,"class","w-full"),V(h,"class","w-full"),V(u,"class","items-center w-full rounded-lg border border-gray-200 sm:flex dark:bg-gray-800 dark:border-gray-600 divide-x rtl:divide-x-reverse divide-gray-200 dark:divide-gray-600"),V(w,"class","mt-6 mb-4 font-semibold text-[#050A30] dark:text-[#f8f9fa]"),V(y,"class","w-48 bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-600 divide-y divide-gray-200 dark:divide-gray-600"),V(lt,"class","mt-6 mb-4 font-semibold text-[#050A30] dark:text-[#f8f9fa]"),V(I,"class","w-48 bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-600 divide-y divide-gray-200 dark:divide-gray-600"),V(a,"action",""),V(a,"class","mt-4"),V(i,"class","px-4")},m(T,F){G(T,e,F),x(e,n),x(e,r),se(o,e,null),G(T,s,F),G(T,i,F),x(i,a),x(a,l),x(a,c),x(a,u),x(u,d),se(f,d,null),x(u,p),x(u,h),se(m,h,null),x(a,v),x(a,w),x(a,A),x(a,y),x(y,C),se(_,C,null),x(y,O),x(y,L),se(N,L,null),x(y,S),x(y,M),se(D,M,null),x(y,z),x(y,$),se(R,$,null),x(y,H),x(y,Q),se(ye,Q,null),x(y,Re),x(y,ee),se(oe,ee,null),x(y,it),x(y,Ze),se(Ce,Ze,null),x(a,Ft),x(a,lt),x(a,P),x(a,I),x(I,re),se(Z,re,null),x(I,te),x(I,be),se(de,be,null),x(I,ct),x(I,At),se(Te,At,null),x(I,Or),x(I,yn),se(Fe,yn,null),x(I,Nr),x(I,_n),se(je,_n,null),jt=!0},p(T,F){const Cn={};F&67108864&&(Cn.$$scope={dirty:F,ctx:T}),!g&&F&8&&(g=!0,Cn.group=T[3],fe(()=>g=!1)),f.$set(Cn);const En={};F&67108864&&(En.$$scope={dirty:F,ctx:T}),!b&&F&8&&(b=!0,En.group=T[3],fe(()=>b=!1)),m.$set(En);const kn={};F&67108864&&(kn.$$scope={dirty:F,ctx:T}),!E&&F&4&&(E=!0,kn.group=T[2],fe(()=>E=!1)),_.$set(kn);const An={};F&67108864&&(An.$$scope={dirty:F,ctx:T}),!k&&F&4&&(k=!0,An.group=T[2],fe(()=>k=!1)),N.$set(An);const Mn={};F&67108864&&(Mn.$$scope={dirty:F,ctx:T}),!B&&F&4&&(B=!0,Mn.group=T[2],fe(()=>B=!1)),D.$set(Mn);const Tn={};F&67108864&&(Tn.$$scope={dirty:F,ctx:T}),!U&&F&4&&(U=!0,Tn.group=T[2],fe(()=>U=!1)),R.$set(Tn);const Sn={};F&67108864&&(Sn.$$scope={dirty:F,ctx:T}),!Me&&F&4&&(Me=!0,Sn.group=T[2],fe(()=>Me=!1)),ye.$set(Sn);const On={};F&67108864&&(On.$$scope={dirty:F,ctx:T}),!Ve&&F&4&&(Ve=!0,On.group=T[2],fe(()=>Ve=!1)),oe.$set(On);const Nn={};F&67108864&&(Nn.$$scope={dirty:F,ctx:T}),!at&&F&4&&(at=!0,Nn.group=T[2],fe(()=>at=!1)),Ce.$set(Nn);const Pn={};F&67108864&&(Pn.$$scope={dirty:F,ctx:T}),!X&&F&2&&(X=!0,Pn.group=T[1],fe(()=>X=!1)),Z.$set(Pn);const Rn={};F&67108864&&(Rn.$$scope={dirty:F,ctx:T}),!xe&&F&2&&(xe=!0,Rn.group=T[1],fe(()=>xe=!1)),de.$set(Rn);const xn={};F&67108864&&(xn.$$scope={dirty:F,ctx:T}),!bn&&F&2&&(bn=!0,xn.group=T[1],fe(()=>bn=!1)),Te.$set(xn);const Ln={};F&67108864&&(Ln.$$scope={dirty:F,ctx:T}),!vn&&F&2&&(vn=!0,Ln.group=T[1],fe(()=>vn=!1)),Fe.$set(Ln);const In={};F&67108864&&(In.$$scope={dirty:F,ctx:T}),!wn&&F&2&&(wn=!0,In.group=T[1],fe(()=>wn=!1)),je.$set(In)},i(T){jt||(Y(o.$$.fragment,T),Y(f.$$.fragment,T),Y(m.$$.fragment,T),Y(_.$$.fragment,T),Y(N.$$.fragment,T),Y(D.$$.fragment,T),Y(R.$$.fragment,T),Y(ye.$$.fragment,T),Y(oe.$$.fragment,T),Y(Ce.$$.fragment,T),Y(Z.$$.fragment,T),Y(de.$$.fragment,T),Y(Te.$$.fragment,T),Y(Fe.$$.fragment,T),Y(je.$$.fragment,T),jt=!0)},o(T){K(o.$$.fragment,T),K(f.$$.fragment,T),K(m.$$.fragment,T),K(_.$$.fragment,T),K(N.$$.fragment,T),K(D.$$.fragment,T),K(R.$$.fragment,T),K(ye.$$.fragment,T),K(oe.$$.fragment,T),K(Ce.$$.fragment,T),K(Z.$$.fragment,T),K(de.$$.fragment,T),K(Te.$$.fragment,T),K(Fe.$$.fragment,T),K(je.$$.fragment,T),jt=!1},d(T){T&&(j(e),j(s),j(i)),ie(o),ie(f),ie(m),ie(_),ie(N),ie(D),ie(R),ie(ye),ie(oe),ie(Ce),ie(Z),ie(de),ie(Te),ie(Fe),ie(je)}}}function pl(t){let e,n,r,o,s,i,a,l;function c(d){t[24](d)}let u={placement:"right",transitionType:"fly",transitionParams:t[4],id:"settings",width:"w-96",class:"overflow-y-auto z-50 py-4 bg-white dark:bg-[#273144]",$$slots:{default:[hl]},$$scope:{ctx:t}};return t[0]!==void 0&&(u.hidden=t[0]),o=new za({props:u}),le.push(()=>he(o,"hidden",c)),{c(){e=W("div"),n=W("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zM11 20h1.975l.35-2.65q.775-.2 1.438-.587t1.212-.938l2.475 1.025l.975-1.7l-2.15-1.625q.125-.35.175-.737T17.5 12q0-.4-.05-.787t-.175-.738l2.15-1.625l-.975-1.7l-2.475 1.05q-.55-.575-1.212-.962t-1.438-.588L13 4h-1.975l-.35 2.65q-.775.2-1.437.588t-1.213.937L5.55 7.15l-.975 1.7l2.15 1.6q-.125.375-.175.75t-.05.8q0 .4.05.775t.175.75l-2.15 1.625l.975 1.7l2.475-1.05q.55.575 1.213.963t1.437.587zm1.05-4.5q1.45 0 2.475-1.025T15.55 12q0-1.45-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12q0 1.45 1.013 2.475T12.05 15.5M12 12"></path></svg>',r=J(),ae(o.$$.fragment),V(n,"class","w-8 text-[#050A30] dark:text-[#f8f9fa]"),V(e,"class","absolute bottom-10 xl:top-10 right-10")},m(d,f){G(d,e,f),x(e,n),G(d,r,f),se(o,d,f),i=!0,a||(l=pe(n,"click",t[8]),a=!0)},p(d,[f]){const g={};f&67108879&&(g.$$scope={dirty:f,ctx:d}),!s&&f&1&&(s=!0,g.hidden=d[0],fe(()=>s=!1)),o.$set(g)},i(d){i||(Y(o.$$.fragment,d),i=!0)},o(d){K(o.$$.fragment,d),i=!1},d(d){d&&(j(e),j(r)),ie(o,d),a=!1,l()}}}function ml(t,e,n){let r,o,s,i=!0,a={x:384,duration:500,easing:_a},l=Vn("female");Bn(t,l,S=>n(3,s=S));let c=Vn("default");Bn(t,c,S=>n(2,o=S));let u=Vn("en");Bn(t,u,S=>n(1,r=S));function d(){fetch("/update-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({voice:s,expertise:o,language:r})}).then(M=>M.json()).then(M=>console.log("Settings updated:",M)).catch(M=>console.error("Failed to update settings:",M))}l.subscribe(()=>d()),c.subscribe(()=>d()),u.subscribe(()=>d());const f=()=>n(0,i=!1),g=()=>n(0,i=!0);function p(S){s=S,l.set(s)}function h(S){s=S,l.set(s)}function m(S){o=S,c.set(o)}function b(S){o=S,c.set(o)}function v(S){o=S,c.set(o)}function w(S){o=S,c.set(o)}function A(S){o=S,c.set(o)}function y(S){o=S,c.set(o)}function C(S){o=S,c.set(o)}function _(S){r=S,u.set(r)}function E(S){r=S,u.set(r)}function O(S){r=S,u.set(r)}function L(S){r=S,u.set(r)}function N(S){r=S,u.set(r)}function k(S){i=S,n(0,i)}return[i,r,o,s,a,l,c,u,f,g,p,h,m,b,v,w,A,y,C,_,E,O,L,N,k]}class gl extends Ye{constructor(e){super(),Xe(this,e,ml,pl,Ue,{})}}const lo=""+new URL("mic-HR1ivggp.png",import.meta.url).href,Yn=""+new URL("stop-BDP2NVE4.png",import.meta.url).href,bl=t=>e=>{const n=t(e);return e.add(n),n},yl=t=>(e,n)=>(t.set(e,n),n),co=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Ko=536870912,uo=Ko*2,vl=(t,e)=>n=>{const r=e.get(n);let o=r===void 0?n.size:r<uo?r+1:0;if(!n.has(o))return t(n,o);if(n.size<Ko){for(;n.has(o);)o=Math.floor(Math.random()*uo);return t(n,o)}if(n.size>co)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*co);return t(n,o)},Jo=new WeakMap,_l=yl(Jo),dr=vl(_l,Jo),wl=bl(dr),Cl=t=>typeof t.start=="function",fo=new WeakMap,El=t=>({...t,connect:({call:e})=>async()=>{const{port1:n,port2:r}=new MessageChannel,o=await e("connect",{port:n},[n]);return fo.set(r,o),r},disconnect:({call:e})=>async n=>{const r=fo.get(n);if(r===void 0)throw new Error("The given port is not connected.");await e("disconnect",{portId:r})},isSupported:({call:e})=>()=>e("isSupported")}),Fn=new WeakMap,kl=t=>{if(Fn.has(t))return Fn.get(t);const e=new Map;return Fn.set(t,e),e},Qo=t=>{const e=El(t);return n=>{const r=kl(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(l!==null&&r.has(l)){const{reject:c,resolve:u}=r.get(l);r.delete(l),a.error===void 0?u(a.result):c(new Error(a.error.message))}}),Cl(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((u,d)=>{const f=dr(r);r.set(f,{reject:d,resolve:u}),l===null?n.postMessage({id:f,method:a},c):n.postMessage({id:f,method:a,params:l},c)}),s=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let i={};for(const[a,l]of Object.entries(e))i={...i,[a]:l({call:o,notify:s})};return{...i}}},ho=new Set,Al=Qo({encode:({call:t})=>async(e,n)=>{const r=await t("encode",{encoderId:e,timeslice:n});return ho.delete(e),r},instantiate:({call:t})=>async(e,n)=>{const r=wl(ho),o=await t("instantiate",{encoderId:r,mimeType:e,sampleRate:n});return{encoderId:r,port:o}},register:({call:t})=>e=>t("register",{port:e},[e])}),Ml=t=>{const e=new Worker(t);return Al(e)},Tl=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),l=a(i,c),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),a=(t,r)=>async a=>{let{data:{id:c,method:i,params:l}}=a;const u=r[i];try{if(void 0===u)throw(e=>o('The requested method called "'.concat(e,'" is not supported.'),n))(i);const r=void 0===l?u():u(l);if(void 0===r)throw(t=>o('The handler of the method called "'.concat(t,'" returned no required result.'),e))(i);const a=r instanceof Promise?await r:r;if(null===c){if(void 0!==a.result)throw s(i)}else{if(void 0===a.result)throw s(i);const{result:e,transferables:r=[]}=a;t.postMessage({id:c,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:c})}};var c=r(455);const i=new Map,l=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const o=e(n,r),s=(0,c.generateUniqueNumber)(i);return i.set(s,(()=>{o(),n.close(),i.delete(s)})),{result:s}},disconnect:e=>{let{portId:r}=e;const n=i.get(r);if(void 0===n)throw(e=>o('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=l(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=a(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},d=e=>{e.onmessage=null,e.close()},h=new WeakMap,f=new WeakMap,p=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t("connect",{port:e},[e]);return h.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=h.get(e);if(void 0===r)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var r;return e=>{const r=(e=>{if(f.has(e))return f.get(e);const t=new Map;return f.set(e,t),t})(e);e.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((s,a)=>{const i=(0,c.generateUniqueNumber)(r);r.set(i,{reject:a,resolve:s}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let s={};for(const[e,r]of Object.entries(t))s={...s,[e]:r({call:n,notify:o})};return{...s}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),w=async(e,t)=>{const r=p(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return e.set(o,[n,r]),n},m=new Map,g=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(m),v=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(m,g),y=new Map,M=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:c}=s;0===c.length?(e(o),t(n.encode(r,null))):n.record(r,a,c)}})):n.encode(r,null)})(d,v),E=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(y),b=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,l=[a,c,!0,s];return t.set(n,l),c.onmessage=t=>{let{data:r}=t;0===r.length?(e(c),l[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(d,m,E),T=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(g);u(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await M(t):await T(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=b(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await w(y,t)}}})})()})();`,Sl=new Blob([Tl],{type:"application/javascript; charset=utf-8"}),es=URL.createObjectURL(Sl),fr=Ml(es),Kt=fr.encode,ts=fr.instantiate,Ol=fr.register;URL.revokeObjectURL(es);const Nl=t=>(e,n)=>{if(t===null)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},Pl=(t,e)=>(n,r,o)=>{const s=[];let i=r,a=0;for(;a<n.byteLength;)if(i===null){const l=e(n,a);if(l===null)break;const{length:c,type:u}=l;i=u,a+=c}else{const l=t(n,a,i,o);if(l===null)break;const{content:c,length:u}=l;i=null,a+=u,c!==null&&s.push(c)}return{contents:s,currentElementType:i,offset:a}},Rl=(t,e)=>class{constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?t():r}addEventListener(r,o,s){if(o!==null){let i=this._listeners.get(o);i===void 0&&(i=e(this,o),typeof o=="function"&&this._listeners.set(o,i)),this._nativeEventTarget.addEventListener(r,i,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,s){const i=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,i===void 0?null:i,s)}},xl=t=>()=>{if(t===null)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")},Ll=(t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},Il=()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},Dl=(t,e,n,r,o,s,i)=>class extends s{constructor(l,c={}){const{mimeType:u}=c;if(i!==null&&(u===void 0||i.isTypeSupported!==void 0&&i.isTypeSupported(u))){const d=t(i,l,c);super(d),this._internalMediaRecorder=d}else if(u!==void 0&&o.some(d=>d.test(u)))super(),i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=r(this,i,l,u):this._internalMediaRecorder=n(this,l,u);else throw i!==null&&t(i,l,c),e();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(l){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("dataavailable",c),this._ondataavailable=[l,c]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(l){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("error",c),this._onerror=[l,c]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(l){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("pause",c),this._onpause=[l,c]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(l){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("resume",c),this._onresume=[l,c]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(l){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("start",c),this._onstart=[l,c]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(l){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof l=="function"){const c=l.bind(this);this.addEventListener("stop",c),this._onstop=[l,c]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(l){return this._internalMediaRecorder.start(l)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(l){return i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported(l)||o.some(c=>c.test(l))}},Bl=t=>t!==null&&t.BlobEvent!==void 0?t.BlobEvent:null,Wl=t=>t===null||t.MediaRecorder===void 0?null:t.MediaRecorder,Ul=t=>(e,n,r)=>{const o=new Map,s=new WeakMap,i=new WeakMap,a=[],l=new e(n,r),c=new WeakMap;return l.addEventListener("stop",({isTrusted:u})=>{u&&setTimeout(()=>a.shift())}),l.addEventListener=(u=>(d,f,g)=>{let p=f;if(typeof f=="function")if(d==="dataavailable"){const h=[];p=m=>{const[[b,v]=[!1,!1]]=a;b&&!v?h.push(m):f.call(l,m)},o.set(f,h),s.set(f,p)}else d==="error"?(p=h=>{h instanceof ErrorEvent?f.call(l,h):f.call(l,new ErrorEvent("error",{error:h.error}))},i.set(f,p)):d==="stop"&&(p=h=>{for(const[m,b]of o.entries())if(b.length>0){const[v]=b;b.length>1&&Object.defineProperty(v,"data",{value:new Blob(b.map(({data:w})=>w),{type:v.data.type})}),b.length=0,m.call(l,v)}f.call(l,h)},c.set(f,p));return u.call(l,d,p,g)})(l.addEventListener),l.removeEventListener=(u=>(d,f,g)=>{let p=f;if(typeof f=="function"){if(d==="dataavailable"){o.delete(f);const h=s.get(f);h!==void 0&&(p=h)}else if(d==="error"){const h=i.get(f);h!==void 0&&(p=h)}else if(d==="stop"){const h=c.get(f);h!==void 0&&(p=h)}}return u.call(l,d,p,g)})(l.removeEventListener),l.start=(u=>d=>{if(r.mimeType!==void 0&&r.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw t();return l.state==="inactive"&&a.push([d!==void 0,!0]),d===void 0?u.call(l):u.call(l,d)})(l.start),l.stop=(u=>()=>{l.state!=="inactive"&&(a[0][1]=!1),u.call(l)})(l.stop),l},Zn=()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},Vl=t=>(e,n,r,o=2)=>{const s=t(e,n);if(s===null)return s;const{length:i,value:a}=s;if(r==="master")return{content:null,length:i};if(n+i+a>e.byteLength)return null;if(r==="binary"){const l=(a/Float32Array.BYTES_PER_ELEMENT-1)/o,c=Array.from({length:o},()=>new Float32Array(l));for(let u=0;u<l;u+=1){const d=u*o+1;for(let f=0;f<o;f+=1)c[f][u]=e.getFloat32(n+i+(d+f)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:c,length:i+a}}return{content:null,length:i+a}},Fl=t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const{length:o,value:s}=r;return s===35?{length:o,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:o,type:"master"}:{length:o,type:"unknown"}},jl=t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const o=n+Math.floor((r-1)/8);if(o+r>e.byteLength)return null;let i=e.getUint8(o)&(1<<8-r%8)-1;for(let a=1;a<r;a+=1)i=(i<<8)+e.getUint8(o+a);return{length:r,value:i}},po=Symbol.observable||"@@observable";function zl(t){return Symbol.observable||(typeof t=="function"&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[po]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[po]=t[Symbol.observable],delete t[Symbol.observable])),t}const Gt=()=>{},mo=t=>{throw t};function Gl(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??Gt).bind(t),error:(t.error??mo).bind(t),next:(t.next??Gt).bind(t)}:{complete:Gt,error:mo,next:Gt}}const ql=t=>(e,n,r)=>t(o=>{const s=i=>o.next(i);return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)}),$l=(t,e)=>{const n=()=>{},r=o=>typeof o[0]=="function";return o=>{const s=(...i)=>{const a=o(r(i)?e({next:i[0]}):e(...i));return a!==void 0?a:n};return s[Symbol.observable]=()=>({subscribe:(...i)=>({unsubscribe:s(...i)})}),t(s)}},Hl=$l(zl,Gl),ns=ql(Hl),Xl=(t,e,n)=>async r=>{const o=new t([n],{type:"application/javascript; charset=utf-8"}),s=e.createObjectURL(o);try{await r(s)}finally{e.revokeObjectURL(s)}},Yl=t=>({data:e})=>{const{id:n}=e;if(n!==null){const r=t.get(n);if(r!==void 0){const{reject:o,resolve:s}=r;t.delete(n),e.error===void 0?s(e.result):o(new Error(e.error.message))}}},Zl=t=>(e,n)=>(r,o=[])=>new Promise((s,i)=>{const a=t(e);e.set(a,{reject:i,resolve:s}),n.postMessage({id:a,...r},o)}),Kl=(t,e,n,r)=>(o,s,i={})=>{const a=new o(s,"recorder-audio-worklet-processor",{...i,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),l=new Map,c=e(l,a.port),u=n(a.port,"message")(t(l));a.port.start();let d="inactive";return Object.defineProperties(a,{pause:{get(){return async()=>(r(["recording"],d),d="paused",c({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async f=>(r(["inactive"],d),d="recording",c({method:"record",params:{encoderPort:f}},[f]))}},resume:{get(){return async()=>(r(["paused"],d),d="recording",c({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],d),d="stopped";try{await c({method:"stop"})}finally{u()}}}}}),a},Jl=(t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map(n=>`"${n}"`).join(" or ")} but it was "${e}".`)},Ql='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',ec=Xl(Blob,URL,Ql),tc=Kl(Yl,Zl(dr),ns,Jl),go=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),bo=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Kn=(t,e)=>({startTime:e,type:"setValue",value:t}),rs=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),os=(t,e,{startTime:n,target:r,timeConstant:o})=>r+(e-r)*Math.exp((n-t)/o),ht=t=>t.type==="exponentialRampToValue",Jt=t=>t.type==="linearRampToValue",$e=t=>ht(t)||Jt(t),hr=t=>t.type==="setValue",Ie=t=>t.type==="setValueCurve",Qt=(t,e,n,r)=>{const o=t[e];return o===void 0?r:$e(o)||hr(o)?o.value:Ie(o)?o.values[o.values.length-1]:os(n,Qt(t,e-1,o.startTime,r),o)},yo=(t,e,n,r,o)=>n===void 0?[r.insertTime,o]:$e(n)?[n.endTime,n.value]:hr(n)?[n.startTime,n.value]:Ie(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Qt(t,e-1,n.startTime,o)],Jn=t=>t.type==="cancelAndHold",Qn=t=>t.type==="cancelScheduledValues",qe=t=>Jn(t)||Qn(t)?t.cancelTime:ht(t)||Jt(t)?t.endTime:t.startTime,vo=(t,e,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((t-e)/(r-e)):0,_o=(t,e,n,{endTime:r,value:o})=>n+(t-e)/(r-e)*(o-n),nc=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},rc=(t,{duration:e,startTime:n,values:r})=>{const o=(t-n)/e*(r.length-1);return nc(r,o)},qt=t=>t.type==="setTarget";class oc{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=qe(e);if(Jn(e)||Qn(e)){const r=this._automationEvents.findIndex(s=>Qn(e)&&Ie(s)?s.startTime+s.duration>=n:qe(s)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Jn(e)){const s=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&$e(o)){if(s!==void 0&&qt(s))throw new Error("The internal list is malformed.");const i=s===void 0?o.insertTime:Ie(s)?s.startTime+s.duration:qe(s),a=s===void 0?this._defaultValue:Ie(s)?s.values[s.values.length-1]:s.value,l=ht(o)?vo(n,i,a,o):_o(n,i,a,o),c=ht(o)?go(l,n,this._currenTime):bo(l,n,this._currenTime);this._automationEvents.push(c)}if(s!==void 0&&qt(s)&&this._automationEvents.push(Kn(this.getValue(n),n)),s!==void 0&&Ie(s)&&s.startTime+s.duration>n){const i=n-s.startTime,a=(s.values.length-1)/s.duration,l=Math.max(2,1+Math.ceil(i*a)),c=i/(l-1)*a,u=s.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const f=c*d%1;u[d]=s.values[d-1]*(1-f)+s.values[d]*f}this._automationEvents[this._automationEvents.length-1]=rs(u,s.startTime,i)}}}else{const r=this._automationEvents.findIndex(i=>qe(i)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Ie(o)&&qe(o)+o.duration>n)return!1;const s=ht(e)?go(e.value,e.endTime,this._currenTime):Jt(e)?bo(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(Ie(e)&&n+e.duration>qe(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>qe(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];qt(o)&&r.unshift(Kn(Qt(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(i=>qe(i)>e),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[o];if(s!==void 0&&qt(s)&&(r===void 0||!$e(r)||r.insertTime>e))return os(e,Qt(this._automationEvents,o-1,s.startTime,this._defaultValue),s);if(s!==void 0&&hr(s)&&(r===void 0||!$e(r)))return s.value;if(s!==void 0&&Ie(s)&&(r===void 0||!$e(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?rc(e,s):s.values[s.values.length-1];if(s!==void 0&&$e(s)&&(r===void 0||!$e(r)))return s.value;if(r!==void 0&&ht(r)){const[i,a]=yo(this._automationEvents,o,s,r,this._defaultValue);return vo(e,i,a,r)}if(r!==void 0&&Jt(r)){const[i,a]=yo(this._automationEvents,o,s,r,this._defaultValue);return _o(e,i,a,r)}return this._defaultValue}}const sc=t=>({cancelTime:t,type:"cancelAndHold"}),ic=t=>({cancelTime:t,type:"cancelScheduledValues"}),ac=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),lc=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),cc=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),uc=()=>new DOMException("","AbortError"),dc=t=>(e,n,[r,o,s],i)=>{t(e[o],[n,r,s],a=>a[0]===n&&a[1]===r,i)},fc=t=>(e,n,r)=>{const o=[];for(let s=0;s<r.numberOfInputs;s+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},hc=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},gt=new WeakSet,ss=new WeakMap,is=new WeakMap,as=new WeakMap,ls=new WeakMap,cs=new WeakMap,us=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap,ds={construct(){return ds}},pc=t=>{try{const e=new Proxy(t,ds);new e}catch{return!1}return!0},wo=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Co=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(wo);for(;o!==null;){const s=o[1].slice(1,-1),i=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(i),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(wo)}return[n.join(";"),r]},Eo=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ko=t=>{if(!pc(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},mc=(t,e,n,r,o,s,i,a,l,c,u,d,f)=>{let g=0;return(p,h,m={credentials:"omit"})=>{const b=u.get(p);if(b!==void 0&&b.has(h))return Promise.resolve();const v=c.get(p);if(v!==void 0){const y=v.get(h);if(y!==void 0)return y}const w=s(p),A=w.audioWorklet===void 0?o(h).then(([y,C])=>{const[_,E]=Co(y,C),O=`${_};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const y=f._AWGS.pop();if(y===void 0)throw new SyntaxError;r(w.currentTime,w.sampleRate,()=>y(class{},void 0,(C,_)=>{if(C.trim()==="")throw e();const E=tr.get(w);if(E!==void 0){if(E.has(C))throw e();ko(_),Eo(_.parameterDescriptors),E.set(C,_)}else ko(_),Eo(_.parameterDescriptors),tr.set(w,new Map([[C,_]]))},w.sampleRate,void 0,void 0))}):Promise.all([o(h),Promise.resolve(t(d,d))]).then(([[y,C],_])=>{const E=g+1;g=E;const[O,L]=Co(y,C),M=`${O};((AudioWorkletProcessor,registerProcessor)=>{${L}
})(${_?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${_?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${_?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,D=new Blob([M],{type:"application/javascript; charset=utf-8"}),B=URL.createObjectURL(D);return w.audioWorklet.addModule(B,m).then(()=>{if(a(w))return w;const z=i(w);return z.audioWorklet.addModule(B,m).then(()=>z)}).then(z=>{if(l===null)throw new SyntaxError;try{new l(z,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(B))});return v===void 0?c.set(p,new Map([[h,A]])):v.set(h,A),A.then(()=>{const y=u.get(p);y===void 0?u.set(p,new Set([h])):y.add(h)}).finally(()=>{const y=c.get(p);y!==void 0&&y.delete(h)}),A}},Ae=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},un=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},fs=(t,e,n,r)=>{const o=Ae(t,e),s=un(o,i=>i[0]===n&&i[1]===r);return o.size===0&&t.delete(e),s},Bt=t=>Ae(us,t),en=t=>{if(gt.has(t))throw new Error("The AudioNode is already stored.");gt.add(t),Bt(t).forEach(e=>e(!0))},hs=t=>"port"in t,pr=t=>{if(!gt.has(t))throw new Error("The AudioNode is not stored.");gt.delete(t),Bt(t).forEach(e=>e(!1))},rr=(t,e)=>{!hs(t)&&e.every(n=>n.size===0)&&pr(t)},gc=(t,e,n,r,o,s,i,a,l,c,u,d,f)=>{const g=new WeakMap;return(p,h,m,b,v)=>{const{activeInputs:w,passiveInputs:A}=s(h),{outputs:y}=s(p),C=a(p),_=E=>{const O=l(h),L=l(p);if(E){const N=fs(A,p,m,b);t(w,p,N,!1),!v&&!d(p)&&n(L,O,m,b),f(h)&&en(h)}else{const N=r(w,p,m,b);e(A,b,N,!1),!v&&!d(p)&&o(L,O,m,b);const k=i(h);if(k===0)u(h)&&rr(h,w);else{const S=g.get(h);S!==void 0&&clearTimeout(S),g.set(h,setTimeout(()=>{u(h)&&rr(h,w)},k*1e3))}}};return c(y,[h,m,b],E=>E[0]===h&&E[1]===m&&E[2]===b,!0)?(C.add(_),u(p)?t(w,p,[m,b,_],!0):e(A,b,[p,m,_],!0),!0):!1}},bc=t=>(e,n,[r,o,s],i)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[o,n,s]])):t(a,[o,n,s],l=>l[0]===o&&l[1]===n,i)},yc=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},vc=t=>(e,n)=>{t(e).add(n)},ps=(t,e)=>t.context===e,Ao=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},rt=()=>new DOMException("","IndexSizeError"),_c=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?rt():r}})(t.getChannelData)},wc={numberOfChannels:1},Cc=(t,e,n,r,o,s,i,a)=>{let l=null;return class ms{constructor(u){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:g}={...wc,...u};l===null&&(l=new o(1,1,44100));const p=r!==null&&e(s,s)?new r({length:d,numberOfChannels:f,sampleRate:g}):l.createBuffer(f,d,g);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(i(p),_c(p)):e(Ao,()=>Ao(p))||a(p),t.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===ms.prototype||t.has(u)}}},dn=-34028234663852886e22,mr=-dn,Qe=t=>gt.has(t),Ec={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},kc=(t,e,n,r,o,s,i,a)=>class extends t{constructor(c,u){const d=s(c),f={...Ec,...u},g=o(d,f),p=i(d),h=p?e():null;super(c,!1,g,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=n(this,p,g.playbackRate,mr,dn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?c:d}get playbackRate(){return this._playbackRate}start(c=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(c,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,u]:[c,u,d]),this.context.state!=="closed"){en(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),Qe(this)&&pr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},Ac=(t,e,n,r,o)=>()=>{const s=new WeakMap;let i=null,a=null;const l=async(c,u)=>{let d=n(c);const f=ps(d,u);if(!f){const g={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,g),i!==null&&d.start(...i),a!==null&&d.stop(a)}return s.set(u,d),f?await t(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await o(c,u,d),d};return{set start(c){i=c},set stop(c){a=c},render(c,u){const d=s.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},Mc=t=>"playbackRate"in t,Tc=t=>"frequency"in t&&"gain"in t,Sc=t=>"offset"in t,Oc=t=>!("frequency"in t)&&"gain"in t,Nc=t=>"detune"in t&&"frequency"in t,Pc=t=>"pan"in t,ve=t=>Ae(ss,t),Wt=t=>Ae(as,t),or=(t,e)=>{const{activeInputs:n}=ve(t);n.forEach(o=>o.forEach(([s])=>{e.includes(t)||or(s,[...e,t])}));const r=Mc(t)?[t.playbackRate]:hs(t)?Array.from(t.parameters.values()):Tc(t)?[t.Q,t.detune,t.frequency,t.gain]:Sc(t)?[t.offset]:Oc(t)?[t.gain]:Nc(t)?[t.detune,t.frequency]:Pc(t)?[t.pan]:[];for(const o of r){const s=Wt(o);s!==void 0&&s.activeInputs.forEach(([i])=>or(i,e))}Qe(t)&&pr(t)},Rc=t=>{or(t.destination,[])},xc=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Lc=(t,e,n,r,o,s,i,a)=>class extends t{constructor(c,u){const d=s(c),f=i(d),g=o(d,u,f),p=f?e(a):null;super(c,!1,g,p),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Ic=t=>{const e=new WeakMap,n=async(r,o)=>{const s=o.destination;return e.set(o,s),await t(r,o,s),s};return{render(r,o){const s=e.get(o);return s!==void 0?Promise.resolve(s):n(r,o)}}},Dc=(t,e,n,r,o,s,i,a)=>(l,c)=>{const u=c.listener,d=()=>{const y=new Float32Array(1),C=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),_=i(c);let E=!1,O=[0,0,-1,0,1,0],L=[0,0,0];const N=()=>{if(E)return;E=!0;const D=r(c,256,9,0);D.onaudioprocess=({inputBuffer:B})=>{const z=[s(B,y,0),s(B,y,1),s(B,y,2),s(B,y,3),s(B,y,4),s(B,y,5)];z.some((R,U)=>R!==O[U])&&(u.setOrientation(...z),O=z);const $=[s(B,y,6),s(B,y,7),s(B,y,8)];$.some((R,U)=>R!==L[U])&&(u.setPosition(...$),L=$)},C.connect(D)},k=D=>B=>{B!==O[D]&&(O[D]=B,u.setOrientation(...O))},S=D=>B=>{B!==L[D]&&(L[D]=B,u.setPosition(...L))},M=(D,B,z)=>{const $=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B});$.connect(C,0,D),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return B}});const R=t({context:l},_,$.offset,mr,dn);return a(R,"value",U=>()=>U.call(R),U=>H=>{try{U.call(R,H)}catch(Q){if(Q.code!==9)throw Q}N(),_&&z(H)}),R.cancelAndHoldAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.cancelAndHoldAtTime),R.cancelScheduledValues=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.cancelScheduledValues),R.exponentialRampToValueAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.exponentialRampToValueAtTime),R.linearRampToValueAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.linearRampToValueAtTime),R.setTargetAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.setTargetAtTime),R.setValueAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.setValueAtTime),R.setValueCurveAtTime=(U=>_?()=>{throw o()}:(...H)=>{const Q=U.apply(R,H);return N(),Q})(R.setValueCurveAtTime),R};return{forwardX:M(0,0,k(0)),forwardY:M(1,0,k(1)),forwardZ:M(2,-1,k(2)),positionX:M(6,0,S(0)),positionY:M(7,0,S(1)),positionZ:M(8,0,S(2)),upX:M(3,0,k(3)),upY:M(4,1,k(4)),upZ:M(5,0,k(5))}},{forwardX:f,forwardY:g,forwardZ:p,positionX:h,positionY:m,positionZ:b,upX:v,upY:w,upZ:A}=u.forwardX===void 0?d():u;return{get forwardX(){return f},get forwardY(){return g},get forwardZ(){return p},get positionX(){return h},get positionY(){return m},get positionZ(){return b},get upX(){return v},get upY(){return w},get upZ(){return A}}},tn=t=>"context"in t,Ut=t=>tn(t[0]),ot=(t,e,n,r)=>{for(const o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Mo=(t,e,[n,r],o)=>{ot(t,[e,n,r],s=>s[0]===e&&s[1]===n,o)},To=(t,[e,n,r],o)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):ot(s,[n,r],i=>i[0]===n,o)},gs=t=>"inputs"in t,sr=(t,e,n,r)=>{if(gs(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},bs=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Bc=(t,e,n)=>un(t,r=>r[0]===e&&r[1]===n),ys=(t,e)=>{if(!Bt(t).delete(e))throw new Error("Missing the expected event listener.")},vs=(t,e,n)=>{const r=Ae(t,e),o=un(r,s=>s[0]===n);return r.size===0&&t.delete(e),o},ir=(t,e,n,r)=>{gs(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ee=t=>Ae(is,t),xt=t=>Ae(ls,t),et=t=>er.has(t),Xt=t=>!gt.has(t),So=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),i=s.getChannelData(0);i[0]=1,i[1]=1;const a=t.createBufferSource();a.buffer=s,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),jn=(t,e)=>{const n=new Map;for(const r of t)for(const o of r){const s=n.get(o);n.set(o,s===void 0?1:s+1)}n.forEach((r,o)=>e(o,r))},nn=t=>"context"in t,Wc=t=>{const e=new Map;t.connect=(n=>(r,o=0,s=0)=>{const i=nn(r)?n(r,o,s):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:s,output:o}]):a.every(l=>l.input!==s||l.output!==o)&&a.push({input:s,output:o}),i})(t.connect.bind(t)),t.disconnect=(n=>(r,o,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[i,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(i):e.set(i,l)}else if(e.has(r))if(o===void 0)e.delete(r);else{const i=e.get(r);if(i!==void 0){const a=i.filter(l=>l.output!==o&&(l.input!==s||s===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[i,a]of e)a.forEach(l=>{nn(i)?t.connect(i,l.output,l.input):t.connect(i,l.output)})})(t.disconnect)},Uc=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=Wt(e),{outputs:i}=ve(t),a=Bt(t),l=c=>{const u=Ee(t),d=xt(e);if(c){const f=vs(s,t,n);Mo(o,t,f,!1),!r&&!et(t)&&u.connect(d,n)}else{const f=Bc(o,t,n);To(s,f,!1),!r&&!et(t)&&u.disconnect(d,n)}};return ot(i,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),Qe(t)?Mo(o,t,[n,l],!0):To(s,[t,n,l],!0),!0):!1},Vc=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=ve(e),i=bs(o[r],t,n);return i===null?[fs(s,t,n,r)[2],!1]:[i[2],!0]},Fc=(t,e,n)=>{const{activeInputs:r,passiveInputs:o}=Wt(e),s=bs(r,t,n);return s===null?[vs(o,t,n)[1],!1]:[s[2],!0]},gr=(t,e,n,r,o)=>{const[s,i]=Vc(t,n,r,o);if(s!==null&&(ys(t,s),i&&!e&&!et(t)&&ir(Ee(t),Ee(n),r,o)),Qe(n)){const{activeInputs:a}=ve(n);rr(n,a)}},br=(t,e,n,r)=>{const[o,s]=Fc(t,n,r);o!==null&&(ys(t,o),s&&!e&&!et(t)&&Ee(t).disconnect(xt(n),r))},jc=(t,e)=>{const n=ve(t),r=[];for(const o of n.outputs)Ut(o)?gr(t,e,...o):br(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},zc=(t,e,n)=>{const r=ve(t),o=[];for(const s of r.outputs)s[1]===n&&(Ut(s)?gr(t,e,...s):br(t,e,...s),o.push(s[0]),r.outputs.delete(s));return o},Gc=(t,e,n,r,o)=>{const s=ve(t);return Array.from(s.outputs).filter(i=>i[0]===n&&(r===void 0||i[1]===r)&&(o===void 0||i[2]===o)).map(i=>(Ut(i)?gr(t,e,...i):br(t,e,...i),s.outputs.delete(i),i[0]))},qc=(t,e,n,r,o,s,i,a,l,c,u,d,f,g,p,h)=>class extends c{constructor(b,v,w,A){super(w),this._context=b,this._nativeAudioNode=w;const y=u(b);d(y)&&n(So,()=>So(y,h))!==!0&&Wc(w),is.set(this,w),us.set(this,new Set),b.state!=="closed"&&v&&en(this),t(this,A,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(b){this._nativeAudioNode.channelCount=b}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(b){this._nativeAudioNode.channelCountMode=b}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(b){this._nativeAudioNode.channelInterpretation=b}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(b,v=0,w=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw o();const A=u(this._context),y=p(A);if(f(b)||g(b))throw s();if(tn(b)){const E=Ee(b);try{const L=sr(this._nativeAudioNode,E,v,w),N=Xt(this);(y||N)&&this._nativeAudioNode.disconnect(...L),this.context.state!=="closed"&&!N&&Xt(b)&&en(b)}catch(L){throw L.code===12?s():L}if(e(this,b,v,w,y)){const L=l([this],b);jn(L,r(y))}return b}const C=xt(b);if(C.name==="playbackRate"&&C.maxValue===1024)throw i();try{this._nativeAudioNode.connect(C,v),(y||Xt(this))&&this._nativeAudioNode.disconnect(C,v)}catch(E){throw E.code===12?s():E}if(Uc(this,b,v,y)){const E=l([this],b);jn(E,r(y))}}disconnect(b,v,w){let A;const y=u(this._context),C=p(y);if(b===void 0)A=jc(this,C);else if(typeof b=="number"){if(b<0||b>=this.numberOfOutputs)throw o();A=zc(this,C,b)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||tn(b)&&w!==void 0&&(w<0||w>=b.numberOfInputs))throw o();if(A=Gc(this,C,b,v,w),A.length===0)throw s()}for(const _ of A){const E=l([this],_);jn(E,a)}}},$c=(t,e,n,r,o,s,i,a,l,c,u,d,f)=>(g,p,h,m=null,b=null)=>{const v=h.value,w=new oc(v),A=p?r(w):null,y={get defaultValue(){return v},get maxValue(){return m===null?h.maxValue:m},get minValue(){return b===null?h.minValue:b},get value(){return h.value},set value(C){h.value=C,y.setValueAtTime(C,g.context.currentTime)},cancelAndHoldAtTime(C){if(typeof h.cancelAndHoldAtTime=="function")A===null&&w.flush(g.context.currentTime),w.add(o(C)),h.cancelAndHoldAtTime(C);else{const _=Array.from(w).pop();A===null&&w.flush(g.context.currentTime),w.add(o(C));const E=Array.from(w).pop();h.cancelScheduledValues(C),_!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?h.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?h.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&h.setValueCurveAtTime(E.values,E.startTime,E.duration))}return y},cancelScheduledValues(C){return A===null&&w.flush(g.context.currentTime),w.add(s(C)),h.cancelScheduledValues(C),y},exponentialRampToValueAtTime(C,_){if(C===0)throw new RangeError;if(!Number.isFinite(_)||_<0)throw new RangeError;const E=g.context.currentTime;return A===null&&w.flush(E),Array.from(w).length===0&&(w.add(c(v,E)),h.setValueAtTime(v,E)),w.add(i(C,_)),h.exponentialRampToValueAtTime(C,_),y},linearRampToValueAtTime(C,_){const E=g.context.currentTime;return A===null&&w.flush(E),Array.from(w).length===0&&(w.add(c(v,E)),h.setValueAtTime(v,E)),w.add(a(C,_)),h.linearRampToValueAtTime(C,_),y},setTargetAtTime(C,_,E){return A===null&&w.flush(g.context.currentTime),w.add(l(C,_,E)),h.setTargetAtTime(C,_,E),y},setValueAtTime(C,_){return A===null&&w.flush(g.context.currentTime),w.add(c(C,_)),h.setValueAtTime(C,_),y},setValueCurveAtTime(C,_,E){const O=C instanceof Float32Array?C:new Float32Array(C);if(d!==null&&d.name==="webkitAudioContext"){const L=_+E,N=g.context.sampleRate,k=Math.ceil(_*N),S=Math.floor(L*N),M=S-k,D=new Float32Array(M);for(let z=0;z<M;z+=1){const $=(O.length-1)/E*((k+z)/N-_),R=Math.floor($),U=Math.ceil($);D[z]=R===U?O[R]:(1-($-R))*O[R]+(1-(U-$))*O[U]}A===null&&w.flush(g.context.currentTime),w.add(u(D,_,E)),h.setValueCurveAtTime(D,_,E);const B=S/N;B<L&&f(y,D[D.length-1],B),f(y,O[O.length-1],L)}else A===null&&w.flush(g.context.currentTime),w.add(u(O,_,E)),h.setValueCurveAtTime(O,_,E);return y}};return n.set(y,h),e.set(y,g),t(y,A),y},Hc=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:s}=n;e.setTargetAtTime(o,r,s)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:s}=n;e.setValueCurveAtTime(s,o,r)}else throw new Error("Can't apply an unknown automation.")}});class _s{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Xc={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Yc=(t,e,n,r,o,s,i,a,l,c,u,d,f,g)=>class extends e{constructor(h,m,b){var v;const w=a(h),A=l(w),y=u({...Xc,...b});f(y);const C=tr.get(w),_=C==null?void 0:C.get(m),E=A||w.state!=="closed"?w:(v=i(w))!==null&&v!==void 0?v:w,O=o(E,A?null:h.baseLatency,c,m,_,y),L=A?r(m,y,_):null;super(h,!0,O,L);const N=[];O.parameters.forEach((S,M)=>{const D=n(this,A,S);N.push([M,D])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new _s(N),A&&t(w,this);const{activeInputs:k}=s(this);d(O,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){const m=typeof h=="function"?g(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=m;const b=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=b!==null&&b===m?h:b}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function rn(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(o,o+128);else{const i=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(i)}}}const ws=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)},on=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const o=[],s=typeof e=="number"?e:e[r];for(let i=0;i<s;i+=1)o.push(new Float32Array(128));n.push(o)}return n},Zc=(t,e)=>{const n=Ae(nr,t),r=Ee(e);return Ae(n,r)},Kc=async(t,e,n,r,o,s,i)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=o.reduce((m,b)=>m+b,0),u=c===0?null:n.createBuffer(c,a,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const d=ve(t),f=await Zc(n,t),g=on(r.numberOfInputs,r.channelCount),p=on(r.numberOfOutputs,o),h=Array.from(t.parameters.keys()).reduce((m,b)=>({...m,[b]:new Float32Array(128)}),{});for(let m=0;m<a;m+=128){if(r.numberOfInputs>0&&e!==null)for(let b=0;b<r.numberOfInputs;b+=1)for(let v=0;v<r.channelCount;v+=1)rn(e,g[b],v,v,m);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:b},v)=>{rn(e,h,b,l+v,m)});for(let b=0;b<r.numberOfInputs;b+=1)for(let v=0;v<o[b];v+=1)p[b][v].byteLength===0&&(p[b][v]=new Float32Array(128));try{const b=g.map((w,A)=>d.activeInputs[A].size===0?[]:w),v=i(m/n.sampleRate,n.sampleRate,()=>f.process(b,p,h));if(u!==null)for(let w=0,A=0;w<r.numberOfOutputs;w+=1){for(let y=0;y<o[w];y+=1)ws(u,p[w],y,A+y,m);A+=o[w]}if(!v)break}catch(b){t.dispatchEvent(new ErrorEvent("processorerror",{colno:b.colno,filename:b.filename,lineno:b.lineno,message:b.message}));break}}return u},Jc=(t,e,n,r,o,s,i,a,l,c,u,d,f,g,p,h)=>(m,b,v)=>{const w=new WeakMap;let A=null;const y=async(C,_)=>{let E=u(C),O=null;const L=ps(E,_),N=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(d===null){const k=N.reduce((B,z)=>B+z,0),S=o(_,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),M=[];for(let B=0;B<C.numberOfOutputs;B+=1)M.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[B]}));const D=i(_,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1});D.connect=e.bind(null,M),D.disconnect=l.bind(null,M),O=[S,M,D]}else L||(E=new d(_,m));if(w.set(_,O===null?E:O[2]),O!==null){if(A===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=C.channelCount*C.numberOfInputs,$=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,R=z+$;A=Kc(C,R===0?null:await(async()=>{const H=new f(R,Math.ceil(C.context.length/128)*128,_.sampleRate),Q=[],ye=[];for(let ee=0;ee<b.numberOfInputs;ee+=1)Q.push(i(H,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),ye.push(o(H,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const Me=await Promise.all(Array.from(C.parameters.values()).map(async ee=>{const oe=s(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee.value});return await g(H,ee,oe.offset),oe})),Re=r(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,z+$)});for(let ee=0;ee<b.numberOfInputs;ee+=1){Q[ee].connect(ye[ee]);for(let oe=0;oe<b.channelCount;oe+=1)ye[ee].connect(Re,oe,ee*b.channelCount+oe)}for(const[ee,oe]of Me.entries())oe.connect(Re,0,z+ee),oe.start(0);return Re.connect(H.destination),await Promise.all(Q.map(ee=>p(C,H,ee))),h(H)})(),_,b,N,v,c)}const k=await A,S=n(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[M,D,B]=O;k!==null&&(S.buffer=k,S.start(0)),S.connect(M);for(let z=0,$=0;z<C.numberOfOutputs;z+=1){const R=D[z];for(let U=0;U<N[z];U+=1)M.connect(R,$+U,U);$+=N[z]}return B}if(L)for(const[k,S]of C.parameters.entries())await t(_,S,E.parameters.get(k));else for(const[k,S]of C.parameters.entries())await g(_,S,E.parameters.get(k));return await p(C,_,E),E};return{render(C,_){a(_,C);const E=w.get(_);return E!==void 0?Promise.resolve(E):y(C,_)}}},Qc=(t,e)=>(n,r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t.get(n);if(s!==void 0)return s;try{const i=r();return i instanceof Promise?(t.set(n,i),i.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,i),i)}catch{return e.set(n,!1),!1}},eu=t=>(e,n,r)=>t(n,e,r),tu=t=>(e,n,r=0,o=0)=>{const s=e[r];if(s===void 0)throw t();return nn(n)?s.connect(n,0,o):s.connect(n,0)},nu=t=>e=>(t[0]=e,t[0]),ru=(t,e,n,r,o,s,i,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=s(l.context),f=a(d);if(u===c){if(e.delete(l),!f&&i(l)){const g=r(l),{outputs:p}=n(l);for(const h of p)if(Ut(h)){const m=r(h[0]);t(g,m,h[1],h[2])}else{const m=o(h[0]);g.connect(m,h[1])}}}else e.set(l,u-c)},ou=t=>(e,n,r,o)=>t(e[o],s=>s[0]===n&&s[1]===r),su=t=>(e,n)=>{t(e).delete(n)},iu=t=>"delayTime"in t,au=(t,e,n)=>function r(o,s){const i=tn(s)?s:n(t,s);if(iu(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:a}=e(i);return Array.from(a).map(l=>r([...o,i],l[0])).reduce((l,c)=>l.concat(c),[])},$t=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},lu=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?$t(t,e,n).disconnect():nn(n)?r===void 0?e.forEach(s=>s.disconnect(n)):o===void 0?$t(t,e,r).disconnect(n,0):$t(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(s=>s.disconnect(n)):$t(t,e,r).disconnect(n,0),cu=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const o=t.document.head;if(o===null)r(new SyntaxError);else{const s=t.document.createElement("script"),i=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(i),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(u,d,f,g,p)=>{if(d===a||d===t.location.href&&f===1&&g===1)return c(),r(p),!1;if(l!==null)return l(u,d,f,g,p)},s.onerror=()=>{c(),r(new SyntaxError)},s.onload=()=>{c(),n()},s.src=a,s.type="module",o.appendChild(s)}}),uu=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,o)}},du=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},fu=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},hu=(t,e)=>n=>e(t,n),pu=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},mu=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},gu=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},bu=t=>e=>t.get(e),ke=()=>new DOMException("","InvalidStateError"),yu=t=>e=>{const n=t.get(e);if(n===void 0)throw ke();return n},vu=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},_u=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},wu=()=>new DOMException("","InvalidAccessError"),Cu=(t,e,n,r,o,s)=>i=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!i&&s(a)){const u=r(a),{outputs:d}=n(a);for(const f of d)if(Ut(f)){const g=r(f[0]);e(u,g,f[1],f[2])}else{const g=o(f[0]);u.disconnect(g,f[1])}}t.set(a,l)}else t.set(a,c+l)},Eu=t=>e=>t!==null&&e instanceof t,ku=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,Au=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Mu=t=>e=>t!==null&&e instanceof t,Tu=t=>t!==null&&t.isSecureContext,Su=(t,e,n,r)=>class extends t{constructor(s,i){const a=n(s),l=e(a,i);if(r(a))throw new TypeError;super(s,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Ou=(t,e,n,r,o)=>class extends r{constructor(i={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(i)}catch(u){throw u.code===12&&u.message==="sampleRate is not in range"?e():u}if(a===null)throw n();if(!xc(i.latencyHint))throw new TypeError(`The provided value '${i.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(i.sampleRate!==void 0&&a.sampleRate!==i.sampleRate)throw e();super(a,2);const{latencyHint:l}=i,{sampleRate:c}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:l==="balanced"?512/c:l==="interactive"||l===void 0?256/c:l==="playback"?1024/c:Math.max(2,Math.min(128,Math.round(l*c/128)))*128/c,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";const u=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",u)};a.addEventListener("statechange",u)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Rc(this)}))}resume(){return this._state==="suspended"?new Promise((i,a)=>{const l=()=>{this._nativeAudioContext.removeEventListener("statechange",l),this._nativeAudioContext.state==="running"?i():this.resume().then(i,a)};this._nativeAudioContext.addEventListener("statechange",l)}):this._nativeAudioContext.resume().catch(i=>{throw i===void 0||i.code===15?t():i})}suspend(){return this._nativeAudioContext.suspend().catch(i=>{throw i===void 0?t():i})}},Nu=(t,e,n,r,o,s)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,cs.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Oo=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Pu=(t,e)=>(n,r,o)=>{const s=new Set;return n.connect=(i=>(a,l=0,c=0)=>{const u=s.size===0;if(e(a))return i.call(n,a,l,c),t(s,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),u&&r(),a;i.call(n,a,l),t(s,[a,l],d=>d[0]===a&&d[1]===l,!0),u&&r()})(n.connect),n.disconnect=(i=>(a,l,c)=>{const u=s.size>0;if(a===void 0)i.apply(n),s.clear();else if(typeof a=="number"){i.call(n,a);for(const f of s)f[1]===a&&s.delete(f)}else{e(a)?i.call(n,a,l,c):i.call(n,a,l);for(const f of s)f[0]===a&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&s.delete(f)}const d=s.size===0;u&&d&&o()})(n.disconnect),n},Je=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Vt=(t,e)=>{Je(t,e,"channelCount"),Je(t,e,"channelCountMode"),Je(t,e,"channelInterpretation")},Ru=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,yr=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},xu=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,s)=>{if(n)throw ke();e.call(t,r,o,s),n=!0}})(t.start)},Cs=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)},Es=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Lu=(t,e,n,r,o,s,i,a,l,c,u)=>(d,f)=>{const g=d.createBufferSource();return Vt(g,f),yr(g,f,"playbackRate"),Je(g,f,"buffer"),Je(g,f,"loop"),Je(g,f,"loopEnd"),Je(g,f,"loopStart"),e(n,()=>n(d))||xu(g),e(r,()=>r(d))||l(g),e(o,()=>o(d))||c(g,d),e(s,()=>s(d))||Cs(g),e(i,()=>i(d))||u(g,d),e(a,()=>a(d))||Es(g),t(d,g),g},Iu=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Du=(t,e)=>(n,r,o)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}o&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const i=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(i,"channelCount",a=>()=>a.call(i),a=>l=>{a.call(i,l);try{s.channelCount=l}catch(c){if(l>s.maxChannelCount)throw c}}),e(i,"channelCountMode",a=>()=>a.call(i),a=>l=>{a.call(i,l),s.channelCountMode=l}),e(i,"channelInterpretation",a=>()=>a.call(i),a=>l=>{a.call(i,l),s.channelInterpretation=l}),Object.defineProperty(i,"maxChannelCount",{get:()=>s.maxChannelCount}),i.connect(s),i},Bu=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Wu=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Uu=(t,e,n,r,o)=>(s,i,a,l,c,u)=>{if(a!==null)try{const d=new a(s,l,u),f=new Map;let g=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>g,set:p=>{typeof g=="function"&&d.removeEventListener("processorerror",g),g=typeof p=="function"?p:null,typeof g=="function"&&d.addEventListener("processorerror",g)}}}),d.addEventListener=(p=>(...h)=>{if(h[0]==="processorerror"){const m=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(m!==null){const b=f.get(h[1]);b!==void 0?h[1]=b:(h[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),m(v)):m(new ErrorEvent(h[0],{...v}))},f.set(m,h[1]))}}return p.call(d,"error",h[1],h[2]),p.call(d,...h)})(d.addEventListener),d.removeEventListener=(p=>(...h)=>{if(h[0]==="processorerror"){const m=f.get(h[1]);m!==void 0&&(f.delete(h[1]),h[1]=m)}return p.call(d,"error",h[1],h[2]),p.call(d,h[0],h[1],h[2])})(d.removeEventListener),u.numberOfOutputs!==0){const p=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(s.destination),o(d,()=>p.disconnect(),()=>p.connect(s.destination))}return d}catch(d){throw d.code===11?r():d}if(c===void 0)throw r();return Wu(u),e(s,i,c,u)},Vu=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Fu=t=>new Promise((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),o.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),o.close(),n(s)},o.postMessage(t)}),ju=async(t,e)=>{const n=await Fu(e);return new t(n)},zu=(t,e,n,r)=>{let o=nr.get(t);o===void 0&&(o=new WeakMap,nr.set(t,o));const s=ju(n,r);return o.set(e,s),s},Gu=(t,e,n,r,o,s,i,a,l,c,u,d,f)=>(g,p,h,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw l();const b=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(b.some(P=>P<1))throw l();if(b.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw l();const v=m.channelCount*m.numberOfInputs,w=b.reduce((P,I)=>P+I,0),A=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(v+A>6||w>6)throw l();const y=new MessageChannel,C=[],_=[];for(let P=0;P<m.numberOfInputs;P+=1)C.push(i(g,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),_.push(o(g,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const E=[];if(h.parameterDescriptors!==void 0)for(const{defaultValue:P,maxValue:I,minValue:re,name:Z}of h.parameterDescriptors){const X=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[Z]!==void 0?m.parameterData[Z]:P===void 0?0:P});Object.defineProperties(X.offset,{defaultValue:{get:()=>P===void 0?0:P},maxValue:{get:()=>I===void 0?mr:I},minValue:{get:()=>re===void 0?dn:re}}),E.push(X)}const O=r(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+A)}),L=Vu(p,g.sampleRate),N=a(g,L,v+A,Math.max(1,w)),k=o(g,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),S=[];for(let P=0;P<m.numberOfOutputs;P+=1)S.push(r(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[P]}));for(let P=0;P<m.numberOfInputs;P+=1){C[P].connect(_[P]);for(let I=0;I<m.channelCount;I+=1)_[P].connect(O,I,P*m.channelCount+I)}const M=new _s(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:P},I)=>{const re=E[I];return re.connect(O,0,v+I),re.start(0),[P,re.offset]}));O.connect(N);let D=m.channelInterpretation,B=null;const z=m.numberOfOutputs===0?[N]:S,$={get bufferSize(){return L},get channelCount(){return m.channelCount},set channelCount(P){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(P){throw n()},get channelInterpretation(){return D},set channelInterpretation(P){for(const I of C)I.channelInterpretation=P;D=P},get context(){return N.context},get inputs(){return C},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return B},set onprocessorerror(P){typeof B=="function"&&$.removeEventListener("processorerror",B),B=typeof P=="function"?P:null,typeof B=="function"&&$.addEventListener("processorerror",B)},get parameters(){return M},get port(){return y.port2},addEventListener(...P){return N.addEventListener(P[0],P[1],P[2])},connect:t.bind(null,z),disconnect:c.bind(null,z),dispatchEvent(...P){return N.dispatchEvent(P[0])},removeEventListener(...P){return N.removeEventListener(P[0],P[1],P[2])}},R=new Map;y.port1.addEventListener=(P=>(...I)=>{if(I[0]==="message"){const re=typeof I[1]=="function"?I[1]:typeof I[1]=="object"&&I[1]!==null&&typeof I[1].handleEvent=="function"?I[1].handleEvent:null;if(re!==null){const Z=R.get(I[1]);Z!==void 0?I[1]=Z:(I[1]=X=>{u(g.currentTime,g.sampleRate,()=>re(X))},R.set(re,I[1]))}}return P.call(y.port1,I[0],I[1],I[2])})(y.port1.addEventListener),y.port1.removeEventListener=(P=>(...I)=>{if(I[0]==="message"){const re=R.get(I[1]);re!==void 0&&(R.delete(I[1]),I[1]=re)}return P.call(y.port1,I[0],I[1],I[2])})(y.port1.removeEventListener);let U=null;Object.defineProperty(y.port1,"onmessage",{get:()=>U,set:P=>{typeof U=="function"&&y.port1.removeEventListener("message",U),U=typeof P=="function"?P:null,typeof U=="function"&&(y.port1.addEventListener("message",U),y.port1.start())}}),h.prototype.port=y.port1;let H=null;zu(g,$,h,m).then(P=>H=P);const ye=on(m.numberOfInputs,m.channelCount),Me=on(m.numberOfOutputs,b),Re=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((P,{name:I})=>({...P,[I]:new Float32Array(128)}),{});let ee=!0;const oe=()=>{m.numberOfOutputs>0&&N.disconnect(k);for(let P=0,I=0;P<m.numberOfOutputs;P+=1){const re=S[P];for(let Z=0;Z<b[P];Z+=1)k.disconnect(re,I+Z,Z);I+=b[P]}},Ve=new Map;N.onaudioprocess=({inputBuffer:P,outputBuffer:I})=>{if(H!==null){const re=d($);for(let Z=0;Z<L;Z+=128){for(let X=0;X<m.numberOfInputs;X+=1)for(let te=0;te<m.channelCount;te+=1)rn(P,ye[X],te,te,Z);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:X},te)=>{rn(P,Re,X,v+te,Z)});for(let X=0;X<m.numberOfInputs;X+=1)for(let te=0;te<b[X];te+=1)Me[X][te].byteLength===0&&(Me[X][te]=new Float32Array(128));try{const X=ye.map((be,de)=>{if(re[de].size>0)return Ve.set(de,L/128),be;const ct=Ve.get(de);return ct===void 0?[]:(be.every(At=>At.every(Te=>Te===0))&&(ct===1?Ve.delete(de):Ve.set(de,ct-1)),be)});ee=u(g.currentTime+Z/g.sampleRate,g.sampleRate,()=>H.process(X,Me,Re));for(let be=0,de=0;be<m.numberOfOutputs;be+=1){for(let xe=0;xe<b[be];xe+=1)ws(I,Me[be],xe,de+xe,Z);de+=b[be]}}catch(X){ee=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:X.colno,filename:X.filename,lineno:X.lineno,message:X.message}))}if(!ee){for(let X=0;X<m.numberOfInputs;X+=1){C[X].disconnect(_[X]);for(let te=0;te<m.channelCount;te+=1)_[Z].disconnect(O,te,X*m.channelCount+te)}if(h.parameterDescriptors!==void 0){const X=h.parameterDescriptors.length;for(let te=0;te<X;te+=1){const be=E[te];be.disconnect(O,0,v+te),be.stop()}}O.disconnect(N),N.onaudioprocess=null,it?oe():at();break}}}};let it=!1;const Ze=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ce=()=>N.connect(Ze).connect(g.destination),at=()=>{N.disconnect(Ze),Ze.disconnect()},Ft=()=>{if(ee){at(),m.numberOfOutputs>0&&N.connect(k);for(let P=0,I=0;P<m.numberOfOutputs;P+=1){const re=S[P];for(let Z=0;Z<b[P];Z+=1)k.connect(re,I+Z,Z);I+=b[P]}}it=!0},lt=()=>{ee&&(Ce(),oe()),it=!1};return Ce(),f($,Ft,lt)},qu=(t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),Vt(o,r),o},$u=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw ke()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw ke()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw ke()}})},ks=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Vt(n,e),$u(n),n},Hu=(t,e,n,r,o)=>(s,i)=>{if(s.createConstantSource===void 0)return n(s,i);const a=s.createConstantSource();return Vt(a,i),yr(a,i,"offset"),e(r,()=>r(s))||Cs(a),e(o,()=>o(s))||Es(a),t(s,a),a},As=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Xu=(t,e,n,r)=>(o,{offset:s,...i})=>{const a=o.createBuffer(1,2,44100),l=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(o,{...i,gain:s}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(p){c.channelCount=p},get channelCountMode(){return c.channelCountMode},set channelCountMode(p){c.channelCountMode=p},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(p){c.channelInterpretation=p},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},f=()=>l.connect(c),g=()=>l.disconnect(c);return t(o,l),r(As(d,c),f,g)},He=(t,e)=>{const n=t.createGain();return Vt(n,e),yr(n,e,"gain"),n},Yu=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,i)=>s.id<i.id?-1:s.id>i.id?1:0);const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},Zu=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,vr=(t,e,n,r)=>t.createScriptProcessor(e,n,r),st=()=>new DOMException("","NotSupportedError"),Ku=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)),Ju=(t,e,n)=>async(r,o,s)=>{const i=t(r);await Promise.all(i.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const f=await e(c).render(c,o),g=r.context.destination;!n(c)&&(r!==g||!n(r))&&f.connect(s,u,l)})).reduce((a,l)=>[...a,...l],[]))},Qu=(t,e,n)=>async(r,o,s)=>{const i=e(r);await Promise.all(Array.from(i.activeInputs).map(async([a,l])=>{const u=await t(a).render(a,o);n(a)||u.connect(s,l)}))},ed=(t,e,n,r)=>o=>t(Oo,()=>Oo(o))?Promise.resolve(t(r,r)).then(s=>{if(!s){const i=n(o,512,0,1);o.oncomplete=()=>{i.onaudioprocess=null,i.disconnect()},i.onaudioprocess=()=>o.currentTime,i.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const i=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{i.disconnect(),s(a.renderedBuffer)},i.connect(o.destination),o.startRendering()}),td=t=>(e,n)=>{t.set(e,n)},nd=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},rd=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let s=!1,i=!1;try{await r.audioWorklet.addModule(o);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>i=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(o)}return s&&!i},od=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},sd=()=>new DOMException("","UnknownError"),id=()=>typeof window>"u"?null:window,ad=(t,e)=>n=>{n.copyFromChannel=(r,o,s=0)=>{const i=t(s),a=t(o);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<l&&d<u;d+=1)r[d]=c[d+i]},n.copyToChannel=(r,o,s=0)=>{const i=t(s),a=t(o);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<l&&d<u;d+=1)c[d+i]=r[d]}},ld=t=>e=>{e.copyFromChannel=(n=>(r,o,s=0)=>{const i=t(s),a=t(o);if(i<e.length)return n.call(e,r,a,i)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,s=0)=>{const i=t(s),a=t(o);if(i<e.length)return n.call(e,r,a,i)})(e.copyToChannel)},cd=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{const s=o.call(e);return s===r?null:s},o=>s=>o.call(e,s===null?r:s))},ud=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)o.connect(r,0,l)},()=>o.disconnect(r))},dd=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),_r=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:s,set:i}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(s),set:r(i)})},fd=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Ms=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Ms(t,e,n+1e-7)}},hd=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},pd=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},md=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ts=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},gd=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Ss=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},bd=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},yd=t=>{t.start=(e=>(n=0,r=0,o)=>{const s=t.buffer,i=s===null?r:Math.min(s.duration,r);s!==null&&i>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,i,o)})(t.start)},vd=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),As(t,n),t.stop=(o=>{let s=!1;return(i=0)=>{if(s)try{o.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else o.call(t,i),s=!0}})(t.stop)},fn=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},_d=dc(ot),wd=bc(ot),Cd=ou(un),Ed=new WeakMap,kd=mu(Ed),Et=Qc(new Map,new WeakMap),Pe=id(),Os=pu(ve),wr=Ju(ve,Os,et),tt=yu(cs),kt=Zu(Pe),We=Mu(kt),Ns=new WeakMap,Ps=uu(fn),hn=Iu(Pe),Ad=Eu(hn),Rs=ku(Pe),Md=Au(Pe),Lt=Bu(Pe),pn=qc(fc(ss),gc(_d,wd,sr,Cd,ir,ve,kd,Bt,Ee,ot,Qe,et,Xt),Et,Cu(er,ir,ve,Ee,xt,Qe),rt,wu,st,ru(sr,er,ve,Ee,xt,tt,Qe,We),au(Ns,ve,Ae),Ps,tt,Ad,Rs,Md,We,Lt),Td=new WeakSet,No=Ru(Pe),xs=nu(new Uint32Array(1)),Sd=ad(xs,rt),Od=ld(xs),Nd=Cc(Td,Et,st,No,kt,nd(No),Sd,Od),Cr=yc(He),Ls=Qu(Os,Wt,et),Is=eu(Ls),mn=Lu(Cr,Et,hd,pd,md,Ts,gd,Ss,yd,cd(_r),vd),Ds=Ku(gu(Wt),Ls),Pd=Ac(Is,mn,Ee,Ds,wr),Er=$c(hc(as),Ns,ls,Hc,sc,ic,ac,lc,cc,Kn,rs,hn,Ms),Rd=kc(pn,Pd,Er,ke,mn,tt,We,fn),xd=Lc(pn,Ic,rt,ke,Du(He,_r),tt,We,wr),gn=Pu(ot,Rs),Ld=ud(ke,gn),kr=qu(hn,Ld),Id=Xu(Cr,mn,He,gn),Ar=Hu(Cr,Et,Id,Ts,Ss),Dd=ed(Et,He,vr,od(He,kt)),Bd=Dc(Er,kr,Ar,vr,st,dd,We,_r),Bs=new WeakMap,Wd=Nu(xd,Bd,Ps,We,Bs,fn),Ws=Tu(Pe),Mr=du(Pe),Us=new WeakMap,Ud=vu(Us,kt),Po=Ws?mc(Et,st,cu(Pe),Mr,fu(uc),tt,Ud,We,Lt,new WeakMap,new WeakMap,rd(Lt,kt),Pe):void 0,Vd=Su(pn,Yu,tt,We),Vs=_u(Bs),Fd=vc(Vs),Fs=tu(rt),jd=su(Vs),js=lu(rt),zs=new WeakMap,zd=hu(zs,Ae),Gd=Gu(Fs,rt,ke,kr,ks,Ar,He,vr,st,js,Mr,zd,gn),qd=Uu(ke,Gd,He,st,gn),$d=Jc(Is,Fs,mn,kr,ks,Ar,He,jd,js,Mr,Ee,Lt,kt,Ds,wr,Dd),Hd=bu(Us),Xd=td(zs),Ro=Ws?Yc(Fd,pn,Er,$d,qd,ve,Hd,tt,We,Lt,fd,Xd,bd,fn):void 0,Yd=Ou(ke,st,sd,Wd,hn),Gs="Missing AudioWorklet support. Maybe this is not running in a secure context.",Zd=async(t,e,n,r,o)=>{const{encoderId:s,port:i}=await ts(o,e.sampleRate);if(Ro===void 0)throw new Error(Gs);const a=new Rd(e,{buffer:t}),l=new Vd(e,{mediaStream:r}),c=tc(Ro,e,{channelCount:n});return{audioBufferSourceNode:a,encoderId:s,mediaStreamAudioSourceNode:l,port:i,recorderAudioWorkletNode:c}},Kd=(t,e,n,r)=>(o,s,i)=>{var a;const l=(a=s.getAudioTracks()[0])===null||a===void 0?void 0:a.getSettings().sampleRate,c=new Yd({latencyHint:"playback",sampleRate:l}),u=Math.max(1024,Math.ceil(c.baseLatency*c.sampleRate)),d=new Nd({length:u,sampleRate:c.sampleRate}),f=[],g=ec(E=>{if(Po===void 0)throw new Error(Gs);return Po(c,E)});let p=null,h=null,m=null,b=null,v=!0;const w=E=>{o.dispatchEvent(t("dataavailable",{data:new Blob(E,{type:i})}))},A=async(E,O)=>{const L=await Kt(E,O);m===null?f.push(...L):(w(L),b=A(E,O))},y=()=>(v=!0,c.resume()),C=()=>{m!==null&&(p!==null&&(s.removeEventListener("addtrack",p),s.removeEventListener("removetrack",p)),h!==null&&clearTimeout(h),m.then(async({encoderId:E,mediaStreamAudioSourceNode:O,recorderAudioWorkletNode:L})=>{b!==null&&(b.catch(()=>{}),b=null),await L.stop(),O.disconnect(L);const N=await Kt(E,null);m===null&&await _(),w([...f,...N]),f.length=0,o.dispatchEvent(new Event("stop"))}),m=null)},_=()=>(v=!1,c.suspend());return _(),{get mimeType(){return i},get state(){return m===null?"inactive":v?"recording":"paused"},pause(){if(m===null)throw n();v&&(_(),o.dispatchEvent(new Event("pause")))},resume(){if(m===null)throw n();v||(y(),o.dispatchEvent(new Event("resume")))},start(E){var O;if(m!==null)throw n();if(s.getVideoTracks().length>0)throw r();o.dispatchEvent(new Event("start"));const L=s.getAudioTracks(),N=L.length===0?2:(O=L[0].getSettings().channelCount)!==null&&O!==void 0?O:2;m=Promise.all([y(),g.then(()=>Zd(d,c,N,s,i))]).then(async([,{audioBufferSourceNode:S,encoderId:M,mediaStreamAudioSourceNode:D,port:B,recorderAudioWorkletNode:z}])=>(D.connect(z),await new Promise($=>{S.onended=$,S.connect(z),S.start(c.currentTime+u/c.sampleRate)}),S.disconnect(z),await z.record(B),E!==void 0&&(b=A(M,E)),{encoderId:M,mediaStreamAudioSourceNode:D,recorderAudioWorkletNode:z}));const k=s.getTracks();p=()=>{C(),o.dispatchEvent(new ErrorEvent("error",{error:e()}))},s.addEventListener("addtrack",p),s.addEventListener("removetrack",p),h=setInterval(()=>{const S=s.getTracks();(S.length!==k.length||S.some((M,D)=>M!==k[D]))&&p!==null&&p()},1e3)},stop:C}};class zn{constructor(e,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const o=e.reduce((u,d)=>u+d.byteLength,0);if(n>o||r!==void 0&&n+r>o)throw new RangeError;const s=[],i=r===void 0?o-n:r,a=[];let l=0,c=n;for(const u of e)if(a.length===0)if(u.byteLength>c){l=u.byteLength-c;const d=l>i?i:l;s.push(new DataView(u,c,d)),a.push(u)}else c-=u.byteLength;else if(l<i){l+=u.byteLength;const d=l>i?u.byteLength-l+i:u.byteLength;s.push(new DataView(u,0,d)),a.push(u)}this._buffers=a,this._byteLength=i,this._byteOffset=c,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.setUint8(4,this.getUint8(e+4)),this._internalBuffer.setUint8(5,this.getUint8(e+5)),this._internalBuffer.setUint8(6,this.getUint8(e+6)),this._internalBuffer.setUint8(7,this.getUint8(e+7)),this._internalBuffer.getFloat64(0,n)}getInt16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getInt16(0,n)}getInt32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getInt32(0,n)}getInt8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getInt8(e-r)}getUint16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getUint16(0,n)}getUint32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getUint32(0,n)}getUint8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getUint8(e-r)}setFloat32(e,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setFloat64(e,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3)),this.setUint8(e+4,this._internalBuffer.getUint8(4)),this.setUint8(e+5,this._internalBuffer.getUint8(5)),this.setUint8(e+6,this._internalBuffer.getUint8(6)),this.setUint8(e+7,this._internalBuffer.getUint8(7))}setInt16(e,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setInt32(e,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setInt8(e,n){const[r,o]=this._findDataViewWithOffset(e);r.setInt8(e-o,n)}setUint16(e,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setUint32(e,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setUint8(e,n){const[r,o]=this._findDataViewWithOffset(e);r.setUint8(e-o,n)}_findDataViewWithOffset(e){let n=0;for(const r of this._dataViews){const o=n+r.byteLength;if(e>=n&&e<o)return[r,n];n=o}throw new RangeError}}const Jd=(t,e,n)=>(r,o,s,i)=>{const a=[],l=new o(s,{mimeType:"audio/webm;codecs=pcm"});let c=null,u=()=>{};const d=p=>{r.dispatchEvent(t("dataavailable",{data:new Blob(p,{type:i})}))},f=async(p,h)=>{const m=await Kt(p,h);l.state==="inactive"?a.push(...m):(d(m),c=f(p,h))},g=()=>{l.state!=="inactive"&&(c!==null&&(c.catch(()=>{}),c=null),u(),u=()=>{},l.stop())};return l.addEventListener("error",p=>{g(),r.dispatchEvent(new ErrorEvent("error",{error:p.error}))}),l.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),l.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),l.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return i},get state(){return l.state},pause(){return l.pause()},resume(){return l.resume()},start(p){const[h]=s.getAudioTracks();if(h!==void 0&&l.state==="inactive"){const{channelCount:m,sampleRate:b}=h.getSettings();if(m===void 0)throw new Error("The channelCount is not defined.");if(b===void 0)throw new Error("The sampleRate is not defined.");let v=!1,w=!1,A=0,y=ts(i,b);u=()=>{w=!0};const C=ns(l,"dataavailable")(({data:_})=>{A+=1;const E=_.arrayBuffer();y=y.then(async({dataView:O=null,elementType:L=null,encoderId:N,port:k})=>{const S=await E;A-=1;const M=O===null?new zn([S]):new zn([...O.buffers,S],O.byteOffset);if(!v&&l.state==="recording"&&!w){const R=n(M,0);if(R===null)return{dataView:M,elementType:L,encoderId:N,port:k};const{value:U}=R;if(U!==172351395)return{dataView:O,elementType:L,encoderId:N,port:k};v=!0}const{currentElementType:D,offset:B,contents:z}=e(M,L,m),$=B<M.byteLength?new zn(M.buffers,M.byteOffset+B):null;return z.forEach(R=>k.postMessage(R,R.map(({buffer:U})=>U))),A===0&&(l.state==="inactive"||w)&&(Kt(N,null).then(R=>{d([...a,...R]),a.length=0,r.dispatchEvent(new Event("stop"))}),k.postMessage([]),k.close(),C()),{dataView:$,elementType:D,encoderId:N,port:k}})});p!==void 0&&y.then(({encoderId:_})=>c=f(_,p))}l.start(100)},stop:g}},Qd=()=>typeof window>"u"?null:window,qs=(t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=qs(t,e+1);return r===null?null:r+8},ef=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},$s=[],Tr=Qd(),tf=Bl(Tr),Hs=Nl(tf),nf=Kd(Hs,Ll,Il,Zn),Sr=jl(qs),rf=Vl(Sr),of=Fl(Sr),sf=Pl(rf,of),af=Jd(Hs,sf,Sr),lf=xl(Tr),cf=Wl(Tr),uf=Dl(Ul(Zn),Zn,nf,af,$s,Rl(lf,ef),cf),df=async t=>{$s.push(await Ol(t))},ff=Qo({characterize:({call:t})=>()=>t("characterize"),encode:({call:t})=>(e,n)=>t("encode",{recordingId:e,timeslice:n}),record:({call:t})=>async(e,n,r)=>{await t("record",{recordingId:e,sampleRate:n,typedArrays:r},r.map(({buffer:o})=>o))}}),hf=t=>{const e=new Worker(t);return ff(e)},pf=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,l=r(i),c=o(l,i),u=t(c);e.addUniqueNumber=u,e.generateUniqueNumber=c}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async o=>{let{data:{id:i,method:l,params:c}}=o;const u=r[l];try{if(void 0===u)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(l);const r=void 0===c?u():u(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(l);const o=r instanceof Promise?await r:r;if(null===i){if(void 0!==o.result)throw a(l)}else{if(void 0===o.result)throw a(l);const{result:e,transferables:r=[]}=o;t.postMessage({id:i,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:i})}};var i=r(455);const l=new Map,c=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const s=e(n,r),a=(0,i.generateUniqueNumber)(l);return l.set(a,(()=>{s(),n.close(),l.delete(a)})),{result:a}},disconnect:e=>{let{portId:r}=e;const n=l.get(r);if(void 0===n)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=c(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=o(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,l=r.length,c=e(r[0]),u=new ArrayBuffer(c*l*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,l,"complete"===n?c:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=l*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=v.get(t);void 0!==n&&(v.delete(t),n.reject(new Error("Another request was made to initiate an encoding.")));const s=f.get(t);if(null!==r){if(void 0===s||d(s.channelDataArrays[0])*(1e3/s.sampleRate)<r)return new Promise(((e,n)=>{v.set(t,{reject:n,resolve:e,timeslice:r})}));const e=h(s.channelDataArrays,Math.ceil(r*(s.sampleRate/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,s.sampleRate);return s.isComplete=!1,{result:n,transferables:n}}if(void 0!==s){const e=p(s.channelDataArrays,s.isComplete?"complete":"subsequent",16,s.sampleRate);return f.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const s=m(t,r,n),a=v.get(t);if(void 0!==a&&d(s.channelDataArrays[0])*(1e3/r)>=a.timeslice){const e=h(s.channelDataArrays,Math.ceil(a.timeslice*(r/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,r);s.isComplete=!1,v.delete(t),a.resolve({result:n,transferables:n})}return{result:null}}})})()})();`,mf=new Blob([pf],{type:"application/javascript; charset=utf-8"}),Xs=URL.createObjectURL(mf),gf=hf(Xs),bf=gf.connect;URL.revokeObjectURL(Xs);function yf(t){let e;return{c(){e=W("button"),V(e,"class","loading w-40 h-40 bg-cover bg-no-repeat transition-all duration-300 ease-in-out rounded-full border-4 border-[#DF3A5C] svelte-19yqj34"),e.disabled=!0},m(n,r){G(n,e,r)},p:me,d(n){n&&j(e)}}}function vf(t){let e,n,r;return{c(){e=W("button"),V(e,"class","w-40 h-40 bg-cover bg-no-repeat transition-all duration-300 ease-in-out rounded-full border-4 border-[#DF3A5C]"),qn(e,"background-image","url("+Yn+")")},m(o,s){G(o,e,s),n||(r=pe(e,"click",t[5]),n=!0)},p:me,d(o){o&&j(e),n=!1,r()}}}function _f(t){let e,n,r,o;return{c(){e=W("button"),V(e,"class",n="w-40 h-40 bg-cover bg-no-repeat transition-all duration-300 ease-in-out rounded-full border-4 border-[#DF3A5C] "+(t[2]?"recording":"hover:scale-110")+" svelte-19yqj34"),qn(e,"background-image","url("+(t[2]?Yn:lo)+")")},m(s,i){G(s,e,i),r||(o=pe(e,"click",t[6]),r=!0)},p(s,i){i&4&&n!==(n="w-40 h-40 bg-cover bg-no-repeat transition-all duration-300 ease-in-out rounded-full border-4 border-[#DF3A5C] "+(s[2]?"recording":"hover:scale-110")+" svelte-19yqj34")&&V(e,"class",n),i&4&&qn(e,"background-image","url("+(s[2]?Yn:lo)+")")},d(s){s&&j(e),r=!1,o()}}}function wf(t){let e;function n(s,i){return s[1]?s[0]?vf:yf:_f}let r=n(t),o=r(t);return{c(){o.c(),e=It()},m(s,i){o.m(s,i),G(s,e,i)},p(s,[i]){r===(r=n(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(e.parentNode,e)))},i:me,o:me,d(s){s&&j(e),o.d(s)}}}const Cf=1,Ef=3e3;function kf(t,e,n){Mi(async()=>{await df(await bf())});const r=Si();let{isLoading:o=!1}=e,{isPlaying:s=!1}=e,i=null,a=null,l=[],c=!1,u=null;async function d(){n(2,c=!0),l=[],r("start"),i=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new uf(i,{mimeType:"audio/wav"}),a.addEventListener("dataavailable",y=>{l.push(y.data)}),a.addEventListener("stop",()=>{i==null||i.getTracks().forEach(y=>y.stop())});const h=new AudioContext,m=h.createMediaStreamSource(i),b=h.createAnalyser();m.connect(b);const v=b.frequencyBinCount,w=new Uint8Array(v);function A(){b.getByteFrequencyData(w),w.reduce((_,E)=>_+E,0)/v<Cf?u||(u=setTimeout(()=>{f()},Ef)):(clearTimeout(u),u=null),c&&requestAnimationFrame(A)}a.start(500),requestAnimationFrame(A)}async function f(){c&&a&&(n(2,c=!1),a.stop(),a=null,r("stopRecording",l),i&&(i.getTracks().forEach(h=>h.stop()),i=null))}async function g(){n(0,s=!1),r("stopPlayback")}Ti(()=>{a&&c&&a.stop(),i&&i.getTracks().forEach(h=>h.stop())});const p=()=>{c?f():d()};return t.$$set=h=>{"isLoading"in h&&n(1,o=h.isLoading),"isPlaying"in h&&n(0,s=h.isPlaying)},[s,o,c,d,f,g,p]}class Af extends Ye{constructor(e){super(),Xe(this,e,kf,wf,Ue,{isLoading:1,isPlaying:0})}}function Mf(t){let e;return{c(){e=W("div"),e.innerHTML='<span class="text-red-600 text-base md:text-xl xl:text-2xl mt-4">An error occurred. Please try again.</span>',V(e,"class","mt-10")},m(n,r){G(n,e,r)},p:me,d(n){n&&j(e)}}}function Tf(t){let e,n,r=t[0]&&xo(t),o=t[1]&&Lo(t);return{c(){r&&r.c(),e=J(),o&&o.c(),n=It()},m(s,i){r&&r.m(s,i),G(s,e,i),o&&o.m(s,i),G(s,n,i)},p(s,i){s[0]?r?r.p(s,i):(r=xo(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[1]?o?o.p(s,i):(o=Lo(s),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(j(e),j(n)),r&&r.d(s),o&&o.d(s)}}}function xo(t){let e,n,r,o,s;return{c(){e=W("div"),n=W("span"),n.textContent="You said:",r=J(),o=W("span"),s=ce(t[0]),V(n,"class","italic dark:font-semibold mb-2"),V(o,"class",""),V(e,"class","text-[#050A30] dark:text-[#f8f9fa] userSpeech text-base md:text-xl xl:text-2xl mt-10")},m(i,a){G(i,e,a),x(e,n),x(e,r),x(e,o),x(o,s)},p(i,a){a&1&&an(s,i[0])},d(i){i&&j(e)}}}function Lo(t){let e,n,r,o,s;return{c(){e=W("div"),n=W("span"),n.textContent="Karen said:",r=J(),o=W("span"),s=ce(t[1]),V(n,"class","italic dark:font-semibold mb-2"),V(o,"class",""),V(e,"class","text-[#050A30] dark:text-[#f8f9fa] karenSpeech text-base md:text-xl xl:text-2xl mt-4")},m(i,a){G(i,e,a),x(e,n),x(e,r),x(e,o),x(o,s)},p(i,a){a&2&&an(s,i[1])},d(i){i&&j(e)}}}function Sf(t){let e,n,r,o,s,i,a,l,c,u,d,f,g,p,h,m;n=new gl({});function b(_){t[8](_)}function v(_){t[9](_)}let w={};t[2]!==void 0&&(w.isLoading=t[2]),t[3]!==void 0&&(w.isPlaying=t[3]),u=new Af({props:w}),le.push(()=>he(u,"isLoading",b)),le.push(()=>he(u,"isPlaying",v)),u.$on("start",t[6]),u.$on("stopRecording",t[5]),u.$on("stopPlayback",t[6]);function A(_,E){return _[4]?Mf:Tf}let y=A(t),C=y(t);return{c(){e=W("main"),ae(n.$$.fragment),r=J(),o=W("div"),s=W("h1"),s.textContent="Karen. The Voice Assistant",i=J(),a=W("h6"),a.textContent="Click on the microphone to start speaking",l=J(),c=W("div"),ae(u.$$.fragment),g=J(),C.c(),p=J(),h=W("div"),V(s,"class","text-3xl md:text-5xl xl:text-6xl text-[#050A30] dark:text-[#f8f9fa] text-center"),V(a,"class","italic text-xs md:text-sm mt-2 dark:text-[#e9ecef]"),V(c,"class","recorder mt-20 md:mt-40 xl:mt-60"),V(h,"id","waveform"),V(h,"class","mt-4 w-96 h-48"),V(o,"class","container mx-auto flex flex-col items-center px-8 py-10 md:py-20 xl:py-30 h-full"),V(e,"class","main-bg dark:main-bg-dark relative w-full h-screen font-primary")},m(_,E){G(_,e,E),se(n,e,null),x(e,r),x(e,o),x(o,s),x(o,i),x(o,a),x(o,l),x(o,c),se(u,c,null),x(o,g),C.m(o,null),x(o,p),x(o,h),m=!0},p(_,[E]){const O={};!d&&E&4&&(d=!0,O.isLoading=_[2],fe(()=>d=!1)),!f&&E&8&&(f=!0,O.isPlaying=_[3],fe(()=>f=!1)),u.$set(O),y===(y=A(_))&&C?C.p(_,E):(C.d(1),C=y(_),C&&(C.c(),C.m(o,p)))},i(_){m||(Y(n.$$.fragment,_),Y(u.$$.fragment,_),m=!0)},o(_){K(n.$$.fragment,_),K(u.$$.fragment,_),m=!1},d(_){_&&j(e),ie(n),ie(u),C.d()}}}function Of(t,e,n){let r=null,o=null,s=!1,i=!1,a=null,l=!1;async function c(){a||n(7,a=Rt.create({container:"#waveform",waveColor:"#ff758f",progressColor:"#c9184a",cursorColor:"#ffccd5",barWidth:2,barRadius:3,normalize:!0}))}async function u(h){n(2,s=!0),n(4,l=!1);const m=new Blob(h.detail,{type:"audio/wav"}),b=new FormData;b.append("audio",m),fetch("/speech-to-text",{method:"POST",body:b,headers:{"Cache-Control":"no-cache"}}).then(async v=>{const w=await v.json();n(2,s=!1),n(0,r=w.text),d(w.text)}).catch(v=>{console.error("Error sending audio to API:",v),n(4,l=!0)}).finally(()=>{n(2,s=!1)})}async function d(h){n(2,s=!0),fetch("/send-to-chatgpt",{method:"POST",body:JSON.stringify({text:h}),headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}}).then(async m=>{const b=m.headers.get("Content-Type"),v=m.headers.get("chat_response");if(b!=null&&b.includes("audio/mpeg")){const w=await m.arrayBuffer(),A=new Blob([w],{type:"audio/mpeg"}),y=URL.createObjectURL(A);await c(),a==null||a.load(y),a==null||a.play(),n(3,i=!0)}v&&n(1,o=v),n(2,s=!1)}).catch(m=>{console.error("Error sending audio to API:",m)})}function f(){n(3,i=!1),a==null||a.playPause(),a==null||a.destroy(),n(7,a=null),n(0,r=null),n(1,o=null)}function g(h){s=h,n(2,s)}function p(h){i=h,n(3,i),n(7,a)}return t.$$.update=()=>{t.$$.dirty&128&&(a==null||a.on("init",()=>{a==null||a.play()})),t.$$.dirty&128&&(a==null||a.on("finish",()=>{n(3,i=!1)}))},[r,o,s,i,l,u,f,a,g,p]}class Nf extends Ye{constructor(e){super(),Xe(this,e,Of,Sf,Ue,{})}}new Nf({target:document.getElementById("app")});
