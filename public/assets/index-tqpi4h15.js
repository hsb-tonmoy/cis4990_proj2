var X=Object.defineProperty;var Y=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>(Y(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function w(){}function V(e){return e()}function B(){return Object.create(null)}function E(e){e.forEach(V)}function k(e){return typeof e=="function"}function D(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let A;function N(e,t){return e===t?!0:(A||(A=document.createElement("a")),A.href=t,e===A.href)}function Z(e){return Object.keys(e).length===0}function p(e,t){e.appendChild(t)}function L(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function ee(e){return document.createTextNode(e)}function T(){return ee(" ")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function te(e){return Array.from(e.childNodes)}let j;function x(e){j=e}const $=[],M=[];let v=[];const S=[],ne=Promise.resolve();let C=!1;function re(){C||(C=!0,ne.then(F))}function R(e){v.push(e)}const P=new Set;let y=0;function F(){if(y!==0)return;const e=j;do{try{for(;y<$.length;){const t=$[y];y++,x(t),oe(t.$$)}}catch(t){throw $.length=0,y=0,t}for(x(null),$.length=0,y=0;M.length;)M.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];P.has(n)||(P.add(n),n())}v.length=0}while($.length);for(;S.length;)S.pop()();C=!1,P.clear(),x(e)}function oe(e){if(e.fragment!==null){e.update(),E(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}function ie(e){const t=[],n=[];v.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),v=t}const q=new Set;let se;function K(e,t){e&&e.i&&(q.delete(e),e.i(t))}function ce(e,t,n,r){if(e&&e.o){if(q.has(e))return;q.add(e),se.c.push(()=>{q.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ue(e){e&&e.c()}function z(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),R(()=>{const i=e.$$.on_mount.map(V).filter(k);e.$$.on_destroy?e.$$.on_destroy.push(...i):E(i),e.$$.on_mount=[]}),o.forEach(R)}function G(e,t){const n=e.$$;n.fragment!==null&&(ie(n.after_update),E(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){e.$$.dirty[0]===-1&&($.push(e),re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,n,r,o,i,l=null,f=[-1]){const c=j;x(e);const s=e.$$={fragment:null,ctx:[],props:i,update:w,not_equal:o,bound:B(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:B(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};l&&l(s.root);let h=!1;if(s.ctx=n?n(e,t.props||{},(u,a,...g)=>{const _=g.length?g[0]:a;return s.ctx&&o(s.ctx[u],s.ctx[u]=_)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](_),h&&le(e,u)),a}):[],s.update(),h=!0,E(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const u=te(t.target);s.fragment&&s.fragment.l(u),u.forEach(b)}else s.fragment&&s.fragment.c();t.intro&&K(e.$$.fragment),z(e,t.target,t.anchor),F()}x(c)}class Q{constructor(){O(this,"$$");O(this,"$$set")}$destroy(){G(this,1),this.$destroy=w}$on(t,n){if(!k(n))return w;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Z(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ae="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ae);const U=""+new URL("mic-HR1ivggp.png",import.meta.url).href,H=""+new URL("stop-BDP2NVE4.png",import.meta.url).href;function fe(e){let t,n,r,o,i,l,f;return{c(){t=m("button"),n=m("img"),o=T(),i=m("button"),i.textContent="Test Audio",N(n.src,r=e[0]?H:U)||d(n,"src",r),d(n,"alt","Microphone"),d(n,"class","object-cover w-40 mt-60"),d(t,"class","mic-button svelte-13j1x3p"),d(i,"class","bg-blue p-4 text-white")},m(c,s){L(c,t,s),p(t,n),L(c,o,s),L(c,i,s),l||(f=[I(t,"click",e[5]),I(i,"click",e[4])],l=!0)},p(c,[s]){s&1&&!N(n.src,r=c[0]?H:U)&&d(n,"src",r)},i:w,o:w,d(c){c&&(b(t),b(o),b(i)),l=!1,E(f)}}}function de(e,t,n){let r=null,o=[],i=!1;function l(){navigator.mediaDevices.getUserMedia({audio:!0}).then(a=>{r=new MediaRecorder(a,{mimeType:"audio/ogg"}),r.addEventListener("dataavailable",c),r.start(),n(0,i=!0)}).catch(a=>{console.error("Error accessing media devices:",a)})}function f(){r==null||r.stop(),n(0,i=!1)}function c(a){o.push(a.data)}function s(){const a=new Blob(o,{type:"audio/ogg"}),g=new FormData;g.append("audio",a),fetch("/speech-to-text",{method:"POST",body:g}).then(_=>{const W=_.json();console.log("API response:",W)}).catch(_=>{console.error("Error sending audio to API:",_)})}function h(){const a=new Blob(o,{type:"audio/webm"}),g=URL.createObjectURL(a);new Audio(g).play()}return[i,l,f,s,h,()=>{i?(f(),s()):l()}]}class he extends Q{constructor(t){super(),J(this,t,de,fe,D,{})}}const pe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='currentColor'%20d='M12%2021q-3.45%200-6.012-2.287T3.05%2013H5.1q.35%202.6%202.313%204.3T12%2019q2.925%200%204.963-2.037T19%2012q0-2.925-2.037-4.962T12%205q-1.725%200-3.225.8T6.25%208H9v2H3V4h2v2.35q1.275-1.6%203.113-2.475T12%203q1.875%200%203.513.713t2.85%201.924q1.212%201.213%201.925%202.85T21%2012q0%201.875-.712%203.513t-1.925%202.85q-1.213%201.212-2.85%201.925T12%2021m2.8-4.8L11%2012.4V7h2v4.6l3.2%203.2z'/%3e%3c/svg%3e";function me(e){let t,n,r,o,i,l,f,c,s,h;return s=new he({}),{c(){t=m("main"),n=m("div"),n.innerHTML=`<button class="w-20"><img src="${pe}" alt="History" class="object-cover"/></button>`,r=T(),o=m("div"),i=m("h1"),i.textContent="Karen. The Voice Assistant",l=T(),f=m("h6"),f.textContent="Click on the microphone to start speaking",c=T(),ue(s.$$.fragment),d(n,"class","absolute top-10 right-5"),d(i,"class","text-6xl text-[#050A30]"),d(f,"class","italic text-sm mt-2"),d(o,"class","container mx-auto flex flex-col items-center py-40 h-full"),d(t,"class","relative w-full h-screen font-primary svelte-tmhv9f")},m(u,a){L(u,t,a),p(t,n),p(t,r),p(t,o),p(o,i),p(o,l),p(o,f),p(o,c),z(s,o,null),h=!0},p:w,i(u){h||(K(s.$$.fragment,u),h=!0)},o(u){ce(s.$$.fragment,u),h=!1},d(u){u&&b(t),G(s)}}}class ge extends Q{constructor(t){super(),J(this,t,null,me,D,{})}}new ge({target:document.getElementById("app")});
